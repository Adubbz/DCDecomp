.include "macro.inc"

.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */

glabel GetNearWorldPos__FiPi
/* 10A5A0 0020A4A0 30FEBD27 */  addiu      $sp, $sp, -0x1D0
/* 10A5A4 0020A4A4 8000BF7F */  sq         $31, 0x80($sp)
/* 10A5A8 0020A4A8 7000B67F */  sq         $22, 0x70($sp)
/* 10A5AC 0020A4AC 6000B57F */  sq         $21, 0x60($sp)
/* 10A5B0 0020A4B0 5000B47F */  sq         $20, 0x50($sp)
/* 10A5B4 0020A4B4 4000B37F */  sq         $19, 0x40($sp)
/* 10A5B8 0020A4B8 3000B27F */  sq         $18, 0x30($sp)
/* 10A5BC 0020A4BC 2000B17F */  sq         $17, 0x20($sp)
/* 10A5C0 0020A4C0 1000B07F */  sq         $16, 0x10($sp)
/* 10A5C4 0020A4C4 0400B5E7 */  swc1       $f21, 0x4($sp)
/* 10A5C8 0020A4C8 0000B4E7 */  swc1       $f20, 0x0($sp)
/* 10A5CC 0020A4CC 04008014 */  bnez       $4, .L0020A4E0
/* 10A5D0 0020A4D0 00000000 */   nop
/* 10A5D4 0020A4D4 FFFF0224 */  addiu      $2, $0, -0x1
/* 10A5D8 0020A4D8 D3000010 */  b          .L0020A828
/* 10A5DC 0020A4DC 00000000 */   nop
.L0020A4E0:
/* 10A5E0 0020A4E0 DA01013C */  lui        $at, (0x1DA0000 >> 16)
/* 10A5E4 0020A4E4 B4ED228C */  lw         $2, -0x124C($at)
/* 10A5E8 0020A4E8 00190200 */  sll        $3, $2, 4
/* 10A5EC 0020A4EC 2900023C */  lui        $2, %hi(TownOrDngPos)
/* 10A5F0 0020A4F0 C0354224 */  addiu      $2, $2, %lo(TownOrDngPos)
/* 10A5F4 0020A4F4 21A04300 */  addu       $20, $2, $3
/* 10A5F8 0020A4F8 00A08044 */  mtc1       $0, $f20
/* 10A5FC 0020A4FC 00000000 */  nop
/* 10A600 0020A500 46A50046 */  mov.s      $f21, $f20
/* 10A604 0020A504 01009030 */  andi       $16, $4, 0x1
/* 10A608 0020A508 05000012 */  beqz       $16, .L0020A520
/* 10A60C 0020A50C 00000000 */   nop
/* 10A610 0020A510 803F023C */  lui        $2, (0x3F800000 >> 16)
/* 10A614 0020A514 00008244 */  mtc1       $2, $f0
/* 10A618 0020A518 00000000 */  nop
/* 10A61C 0020A51C 41A50046 */  sub.s      $f21, $f20, $f0
.L0020A520:
/* 10A620 0020A520 02009130 */  andi       $17, $4, 0x2
/* 10A624 0020A524 05002012 */  beqz       $17, .L0020A53C
/* 10A628 0020A528 00000000 */   nop
/* 10A62C 0020A52C 803F023C */  lui        $2, (0x3F800000 >> 16)
/* 10A630 0020A530 00008244 */  mtc1       $2, $f0
/* 10A634 0020A534 00000000 */  nop
/* 10A638 0020A538 40AD0046 */  add.s      $f21, $f21, $f0
.L0020A53C:
/* 10A63C 0020A53C 08009230 */  andi       $18, $4, 0x8
/* 10A640 0020A540 05004012 */  beqz       $18, .L0020A558
/* 10A644 0020A544 00000000 */   nop
/* 10A648 0020A548 803F023C */  lui        $2, (0x3F800000 >> 16)
/* 10A64C 0020A54C 00008244 */  mtc1       $2, $f0
/* 10A650 0020A550 00000000 */  nop
/* 10A654 0020A554 00A50046 */  add.s      $f20, $f20, $f0
.L0020A558:
/* 10A658 0020A558 04009330 */  andi       $19, $4, 0x4
/* 10A65C 0020A55C 05006012 */  beqz       $19, .L0020A574
/* 10A660 0020A560 00000000 */   nop
/* 10A664 0020A564 803F023C */  lui        $2, (0x3F800000 >> 16)
/* 10A668 0020A568 00008244 */  mtc1       $2, $f0
/* 10A66C 0020A56C 00000000 */  nop
/* 10A670 0020A570 01A50046 */  sub.s      $f20, $f20, $f0
.L0020A574:
/* 10A674 0020A574 1AA01446 */  mula.s     $f20, $f20
/* 10A678 0020A578 1CAB1546 */  madd.s     $f12, $f21, $f21
/* 10A67C 0020A57C 9044040C */  jal        fptodp
/* 10A680 0020A580 00000000 */   nop
/* 10A684 0020A584 28264070 */  paddub     $4, $2, $0
/* 10A688 0020A588 CC76040C */  jal        sqrt
/* 10A68C 0020A58C 00000000 */   nop
/* 10A690 0020A590 28264070 */  paddub     $4, $2, $0
/* 10A694 0020A594 9241040C */  jal        dptofp
/* 10A698 0020A598 00000000 */   nop
/* 10A69C 0020A59C 00088044 */  mtc1       $0, $f1
/* 10A6A0 0020A5A0 00000000 */  nop
/* 10A6A4 0020A5A4 32080046 */  c.eq.s     $f1, $f0
/* 10A6A8 0020A5A8 00000000 */  nop
/* 10A6AC 0020A5AC 02000145 */  bc1t       .L0020A5B8
/* 10A6B0 0020A5B0 00000000 */   nop
/* 10A6B4 0020A5B4 03A50046 */  div.s      $f20, $f20, $f0
.L0020A5B8:
/* 10A6B8 0020A5B8 00088044 */  mtc1       $0, $f1
/* 10A6BC 0020A5BC 00000000 */  nop
/* 10A6C0 0020A5C0 32080046 */  c.eq.s     $f1, $f0
/* 10A6C4 0020A5C4 00000000 */  nop
/* 10A6C8 0020A5C8 02000145 */  bc1t       .L0020A5D4
/* 10A6CC 0020A5CC 00000000 */   nop
/* 10A6D0 0020A5D0 43AD0046 */  div.s      $f21, $f21, $f0
.L0020A5D4:
/* 10A6D4 0020A5D4 28AE0070 */  paddub     $21, $0, $0
/* 10A6D8 0020A5D8 3E000010 */  b          .L0020A6D4
/* 10A6DC 0020A5DC 00000000 */   nop
.L0020A5E0:
/* 10A6E0 0020A5E0 80101500 */  sll        $2, $21, 2
/* 10A6E4 0020A5E4 21105500 */  addu       $2, $2, $21
/* 10A6E8 0020A5E8 80100200 */  sll        $2, $2, 2
/* 10A6EC 0020A5EC 21105D00 */  addu       $2, $2, $sp
/* 10A6F0 0020A5F0 90005624 */  addiu      $22, $2, 0x90
/* 10A6F4 0020A5F4 0000D5A2 */  sb         $21, 0x0($22)
/* 10A6F8 0020A5F8 00191500 */  sll        $3, $21, 4
/* 10A6FC 0020A5FC 2900023C */  lui        $2, %hi(TownOrDngPos)
/* 10A700 0020A600 C0354224 */  addiu      $2, $2, %lo(TownOrDngPos)
/* 10A704 0020A604 21204300 */  addu       $4, $2, $3
/* 10A708 0020A608 06008284 */  lh         $2, 0x6($4)
/* 10A70C 0020A60C 05004018 */  blez       $2, .L0020A624
/* 10A710 0020A610 00000000 */   nop
/* 10A714 0020A614 DA01013C */  lui        $at, (0x1DA0000 >> 16)
/* 10A718 0020A618 B4ED228C */  lw         $2, -0x124C($at)
/* 10A71C 0020A61C 0400A216 */  bne        $21, $2, .L0020A630
/* 10A720 0020A620 00000000 */   nop
.L0020A624:
/* 10A724 0020A624 0100C0A2 */  sb         $0, 0x1($22)
/* 10A728 0020A628 03000010 */  b          .L0020A638
/* 10A72C 0020A62C 00000000 */   nop
.L0020A630:
/* 10A730 0020A630 01000224 */  addiu      $2, $0, 0x1
/* 10A734 0020A634 0100C2A2 */  sb         $2, 0x1($22)
.L0020A638:
/* 10A738 0020A638 0800838C */  lw         $3, 0x8($4)
/* 10A73C 0020A63C 0800828E */  lw         $2, 0x8($20)
/* 10A740 0020A640 23106200 */  subu       $2, $3, $2
/* 10A744 0020A644 0800C2AE */  sw         $2, 0x8($22)
/* 10A748 0020A648 0C00838C */  lw         $3, 0xC($4)
/* 10A74C 0020A64C 0C00828E */  lw         $2, 0xC($20)
/* 10A750 0020A650 23106200 */  subu       $2, $3, $2
/* 10A754 0020A654 0C00C2AE */  sw         $2, 0xC($22)
/* 10A758 0020A658 0800C28E */  lw         $2, 0x8($22)
/* 10A75C 0020A65C 18184200 */  mult       $3, $2, $2
/* 10A760 0020A660 0C00C28E */  lw         $2, 0xC($22)
/* 10A764 0020A664 18104270 */  mult1      $2, $2, $2
/* 10A768 0020A668 21106200 */  addu       $2, $3, $2
/* 10A76C 0020A66C 1000C2AE */  sw         $2, 0x10($22)
/* 10A770 0020A670 1000C48E */  lw         $4, 0x10($22)
/* 10A774 0020A674 FC40040C */  jal        litodp
/* 10A778 0020A678 00000000 */   nop
/* 10A77C 0020A67C 28264070 */  paddub     $4, $2, $0
/* 10A780 0020A680 CC76040C */  jal        sqrt
/* 10A784 0020A684 00000000 */   nop
/* 10A788 0020A688 28264070 */  paddub     $4, $2, $0
/* 10A78C 0020A68C 9241040C */  jal        dptofp
/* 10A790 0020A690 00000000 */   nop
/* 10A794 0020A694 0800C1C6 */  lwc1       $f1, 0x8($22)
/* 10A798 0020A698 A0088046 */  cvt.s.w    $f2, $f1
/* 10A79C 0020A69C 0C00C1C6 */  lwc1       $f1, 0xC($22)
/* 10A7A0 0020A6A0 E0088046 */  cvt.s.w    $f3, $f1
/* 10A7A4 0020A6A4 00088044 */  mtc1       $0, $f1
/* 10A7A8 0020A6A8 00000000 */  nop
/* 10A7AC 0020A6AC 32080046 */  c.eq.s     $f1, $f0
/* 10A7B0 0020A6B0 00000000 */  nop
/* 10A7B4 0020A6B4 03000145 */  bc1t       .L0020A6C4
/* 10A7B8 0020A6B8 00000000 */   nop
/* 10A7BC 0020A6BC 83100046 */  div.s      $f2, $f2, $f0
/* 10A7C0 0020A6C0 C3180046 */  div.s      $f3, $f3, $f0
.L0020A6C4:
/* 10A7C4 0020A6C4 1A101446 */  mula.s     $f2, $f20
/* 10A7C8 0020A6C8 1C181546 */  madd.s     $f0, $f3, $f21
/* 10A7CC 0020A6CC 0400C0E6 */  swc1       $f0, 0x4($22)
/* 10A7D0 0020A6D0 0100B526 */  addiu      $21, $21, 0x1
.L0020A6D4:
/* 10A7D4 0020A6D4 1000A22A */  slti       $2, $21, 0x10
/* 10A7D8 0020A6D8 C1FF4014 */  bnez       $2, .L0020A5E0
/* 10A7DC 0020A6DC 00000000 */   nop
/* 10A7E0 0020A6E0 28A60070 */  paddub     $20, $0, $0
/* 10A7E4 0020A6E4 21000010 */  b          .L0020A76C
/* 10A7E8 0020A6E8 00000000 */   nop
.L0020A6EC:
/* 10A7EC 0020A6EC 281E0070 */  paddub     $3, $0, $0
/* 10A7F0 0020A6F0 80101400 */  sll        $2, $20, 2
/* 10A7F4 0020A6F4 21105400 */  addu       $2, $2, $20
/* 10A7F8 0020A6F8 80100200 */  sll        $2, $2, 2
/* 10A7FC 0020A6FC 21105D00 */  addu       $2, $2, $sp
/* 10A800 0020A700 90004424 */  addiu      $4, $2, 0x90
/* 10A804 0020A704 01008626 */  addiu      $6, $20, 0x1
/* 10A808 0020A708 12000010 */  b          .L0020A754
/* 10A80C 0020A70C 00000000 */   nop
.L0020A710:
/* 10A810 0020A710 80100600 */  sll        $2, $6, 2
/* 10A814 0020A714 21104600 */  addu       $2, $2, $6
/* 10A818 0020A718 80100200 */  sll        $2, $2, 2
/* 10A81C 0020A71C 21105D00 */  addu       $2, $2, $sp
/* 10A820 0020A720 90004524 */  addiu      $5, $2, 0x90
/* 10A824 0020A724 040081C4 */  lwc1       $f1, 0x4($4)
/* 10A828 0020A728 0400A0C4 */  lwc1       $f0, 0x4($5)
/* 10A82C 0020A72C 34080046 */  c.lt.s     $f1, $f0
/* 10A830 0020A730 00000000 */  nop
/* 10A834 0020A734 06000045 */  bc1f       .L0020A750
/* 10A838 0020A738 00000000 */   nop
/* 10A83C 0020A73C 0C29080C */  jal        MenuDataSwap__FP16MAP_JUMP_COMPAREP16MAP_JUMP_COMPARE
/* 10A840 0020A740 00000000 */   nop
/* 10A844 0020A744 01000324 */  addiu      $3, $0, 0x1
/* 10A848 0020A748 05000010 */  b          .L0020A760
/* 10A84C 0020A74C 00000000 */   nop
.L0020A750:
/* 10A850 0020A750 0100C624 */  addiu      $6, $6, 0x1
.L0020A754:
/* 10A854 0020A754 1000C228 */  slti       $2, $6, 0x10
/* 10A858 0020A758 EDFF4014 */  bnez       $2, .L0020A710
/* 10A85C 0020A75C 00000000 */   nop
.L0020A760:
/* 10A860 0020A760 02006014 */  bnez       $3, .L0020A76C
/* 10A864 0020A764 00000000 */   nop
/* 10A868 0020A768 01009426 */  addiu      $20, $20, 0x1
.L0020A76C:
/* 10A86C 0020A76C 1000822A */  slti       $2, $20, 0x10
/* 10A870 0020A770 DEFF4014 */  bnez       $2, .L0020A6EC
/* 10A874 0020A774 00000000 */   nop
/* 10A878 0020A778 FFFF0224 */  addiu      $2, $0, -0x1
/* 10A87C 0020A77C 0900033C */  lui        $3, (0x927C0 >> 16)
/* 10A880 0020A780 C0276434 */  ori        $4, $3, (0x927C0 & 0xFFFF)
/* 10A884 0020A784 282E0070 */  paddub     $5, $0, $0
/* 10A888 0020A788 24000010 */  b          .L0020A81C
/* 10A88C 0020A78C 00000000 */   nop
.L0020A790:
/* 10A890 0020A790 80180500 */  sll        $3, $5, 2
/* 10A894 0020A794 21186500 */  addu       $3, $3, $5
/* 10A898 0020A798 80180300 */  sll        $3, $3, 2
/* 10A89C 0020A79C 21187D00 */  addu       $3, $3, $sp
/* 10A8A0 0020A7A0 90006624 */  addiu      $6, $3, 0x90
/* 10A8A4 0020A7A4 0100C380 */  lb         $3, 0x1($6)
/* 10A8A8 0020A7A8 1B006018 */  blez       $3, .L0020A818
/* 10A8AC 0020A7AC 00000000 */   nop
/* 10A8B0 0020A7B0 04000012 */  beqz       $16, .L0020A7C4
/* 10A8B4 0020A7B4 00000000 */   nop
/* 10A8B8 0020A7B8 0C00C38C */  lw         $3, 0xC($6)
/* 10A8BC 0020A7BC 16006104 */  bgez       $3, .L0020A818
/* 10A8C0 0020A7C0 00000000 */   nop
.L0020A7C4:
/* 10A8C4 0020A7C4 04002012 */  beqz       $17, .L0020A7D8
/* 10A8C8 0020A7C8 00000000 */   nop
/* 10A8CC 0020A7CC 0C00C38C */  lw         $3, 0xC($6)
/* 10A8D0 0020A7D0 11006018 */  blez       $3, .L0020A818
/* 10A8D4 0020A7D4 00000000 */   nop
.L0020A7D8:
/* 10A8D8 0020A7D8 04004012 */  beqz       $18, .L0020A7EC
/* 10A8DC 0020A7DC 00000000 */   nop
/* 10A8E0 0020A7E0 0800C38C */  lw         $3, 0x8($6)
/* 10A8E4 0020A7E4 0C006018 */  blez       $3, .L0020A818
/* 10A8E8 0020A7E8 00000000 */   nop
.L0020A7EC:
/* 10A8EC 0020A7EC 04006012 */  beqz       $19, .L0020A800
/* 10A8F0 0020A7F0 00000000 */   nop
/* 10A8F4 0020A7F4 0800C38C */  lw         $3, 0x8($6)
/* 10A8F8 0020A7F8 07006104 */  bgez       $3, .L0020A818
/* 10A8FC 0020A7FC 00000000 */   nop
.L0020A800:
/* 10A900 0020A800 1000C38C */  lw         $3, 0x10($6)
/* 10A904 0020A804 2A086400 */  slt        $at, $3, $4
/* 10A908 0020A808 03002010 */  beqz       $at, .L0020A818
/* 10A90C 0020A80C 00000000 */   nop
/* 10A910 0020A810 0000C280 */  lb         $2, 0x0($6)
/* 10A914 0020A814 28266070 */  paddub     $4, $3, $0
.L0020A818:
/* 10A918 0020A818 0100A524 */  addiu      $5, $5, 0x1
.L0020A81C:
/* 10A91C 0020A81C 1000A328 */  slti       $3, $5, 0x10
/* 10A920 0020A820 DBFF6014 */  bnez       $3, .L0020A790
/* 10A924 0020A824 00000000 */   nop
.L0020A828:
/* 10A928 0020A828 8000BF7B */  lq         $31, 0x80($sp)
/* 10A92C 0020A82C 7000B67B */  lq         $22, 0x70($sp)
/* 10A930 0020A830 6000B57B */  lq         $21, 0x60($sp)
/* 10A934 0020A834 5000B47B */  lq         $20, 0x50($sp)
/* 10A938 0020A838 4000B37B */  lq         $19, 0x40($sp)
/* 10A93C 0020A83C 3000B27B */  lq         $18, 0x30($sp)
/* 10A940 0020A840 2000B17B */  lq         $17, 0x20($sp)
/* 10A944 0020A844 1000B07B */  lq         $16, 0x10($sp)
/* 10A948 0020A848 0400B5C7 */  lwc1       $f21, 0x4($sp)
/* 10A94C 0020A84C 0000B4C7 */  lwc1       $f20, 0x0($sp)
/* 10A950 0020A850 D001BD27 */  addiu      $sp, $sp, 0x1D0
/* 10A954 0020A854 0800E003 */  jr         $31
/* 10A958 0020A858 00000000 */   nop
/* 10A95C 0020A85C 00000000 */  nop
