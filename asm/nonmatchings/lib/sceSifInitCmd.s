.include "macro.inc"

.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */

# Handwritten function
glabel sceSifInitCmd
/* 16660 00116560 A0FFBD27 */  addiu      $sp, $sp, -0x60
/* 16664 00116564 2500093C */  lui        $9, (0x2509F8 >> 16)
/* 16668 00116568 5000BFFF */  sd         $31, 0x50($sp)
/* 1666C 0011656C 4000B4FF */  sd         $20, 0x40($sp)
/* 16670 00116570 3000B3FF */  sd         $19, 0x30($sp)
/* 16674 00116574 2000B2FF */  sd         $18, 0x20($sp)
/* 16678 00116578 1000B1FF */  sd         $17, 0x10($sp)
/* 1667C 0011657C 0000B0FF */  sd         $16, 0x0($sp)
.L00116580:
/* 16680 00116580 39000042 */  di # handwritten instruction
/* 16684 00116584 0F040000 */  sync.p
/* 16688 00116588 00600240 */  mfc0       $2, $12 # handwritten instruction
/* 1668C 0011658C 0100033C */  lui        $3, (0x10000 >> 16)
/* 16690 00116590 24104300 */  and        $2, $2, $3
/* 16694 00116594 FAFF4014 */  bnez       $2, .L00116580
/* 16698 00116598 00000000 */   nop
/* 1669C 0011659C F809228D */  lw         $2, (0x2509F8 & 0xFFFF)($9)
/* 166A0 001165A0 8D004014 */  bnez       $2, .L001167D8
/* 166A4 001165A4 2A00133C */   lui       $19, %hi(D_002A5840)
/* 166A8 001165A8 2A00053C */  lui        $5, %hi(D_002A58C0)
/* 166AC 001165AC 0020023C */  lui        $2, (0x20000000 >> 16)
/* 166B0 001165B0 C058A524 */  addiu      $5, $5, %lo(D_002A58C0)
/* 166B4 001165B4 40586626 */  addiu      $6, $19, %lo(D_002A5840)
/* 166B8 001165B8 2A00123C */  lui        $18, (0x2A5918 >> 16)
/* 166BC 001165BC 2528A200 */  or         $5, $5, $2
/* 166C0 001165C0 2530C200 */  or         $6, $6, $2
/* 166C4 001165C4 01000324 */  addiu      $3, $0, 0x1
/* 166C8 001165C8 2A000A3C */  lui        $10, (0x2A5940 >> 16)
/* 166CC 001165CC 2A00043C */  lui        $4, %hi(D_002A5A40)
/* 166D0 001165D0 18594226 */  addiu      $2, $18, %lo(D_002A5918)
/* 166D4 001165D4 F80923AD */  sw         $3, (0x2509F8 & 0xFFFF)($9)
/* 166D8 001165D8 40594825 */  addiu      $8, $10, %lo(D_002A5940)
/* 166DC 001165DC 185946AE */  sw         $6, (0x2A5918 & 0xFFFF)($18)
/* 166E0 001165E0 405A8424 */  addiu      $4, $4, %lo(D_002A5A40)
/* 166E4 001165E4 20000724 */  addiu      $7, $0, 0x20
/* 166E8 001165E8 1C0044AC */  sw         $4, 0x1C($2)
/* 166EC 001165EC 040045AC */  sw         $5, 0x4($2)
/* 166F0 001165F0 2D180001 */  daddu      $3, $8, $0
/* 166F4 001165F4 100047AC */  sw         $7, 0x10($2)
/* 166F8 001165F8 2A00143C */  lui        $20, %hi(D_002A5900)
/* 166FC 001165FC 080040AC */  sw         $0, 0x8($2)
/* 16700 00116600 1F001024 */  addiu      $16, $0, 0x1F
/* 16704 00116604 0C0048AC */  sw         $8, 0xC($2)
/* 16708 00116608 140040AC */  sw         $0, 0x14($2)
/* 1670C 0011660C 180040AC */  sw         $0, 0x18($2)
.L00116610:
/* 16710 00116610 000060AC */  sw         $0, 0x0($3)
/* 16714 00116614 FFFF1026 */  addiu      $16, $16, -0x1
/* 16718 00116618 040060AC */  sw         $0, 0x4($3)
/* 1671C 0011661C 08006324 */  addiu      $3, $3, 0x8
/* 16720 00116620 00000000 */  nop
/* 16724 00116624 FAFF0106 */  bgez       $16, .L00116610
/* 16728 00116628 00000000 */   nop
/* 1672C 0011662C 2A00023C */  lui        $2, %hi(D_002A5A40)
/* 16730 00116630 1F001024 */  addiu      $16, $0, 0x1F
/* 16734 00116634 405A4224 */  addiu      $2, $2, %lo(D_002A5A40)
/* 16738 00116638 7C004224 */  addiu      $2, $2, 0x7C
/* 1673C 0011663C 00000000 */  nop
.L00116640:
/* 16740 00116640 000040AC */  sw         $0, 0x0($2)
/* 16744 00116644 FFFF1026 */  addiu      $16, $16, -0x1
/* 16748 00116648 FCFF4224 */  addiu      $2, $2, -0x4
/* 1674C 0011664C 00000000 */  nop
/* 16750 00116650 00000000 */  nop
/* 16754 00116654 FAFF0106 */  bgez       $16, .L00116640
/* 16758 00116658 00000000 */   nop
/* 1675C 0011665C 1100023C */  lui        $2, %hi(_change_addr)
/* 16760 00116660 1100033C */  lui        $3, %hi(_set_sreg)
/* 16764 00116664 08654224 */  addiu      $2, $2, %lo(_change_addr)
/* 16768 00116668 40594425 */  addiu      $4, $10, %lo(D_002A5940)
/* 1676C 0011666C E8646324 */  addiu      $3, $3, %lo(_set_sreg)
/* 16770 00116670 18595126 */  addiu      $17, $18, %lo(D_002A5918)
/* 16774 00116674 405942AD */  sw         $2, (0x2A5940 & 0xFFFF)($10)
/* 16778 00116678 20001024 */  addiu      $16, $0, 0x20
/* 1677C 0011667C 080083AC */  sw         $3, 0x8($4)
/* 16780 00116680 0C0091AC */  sw         $17, 0xC($4)
/* 16784 00116684 040091AC */  sw         $17, 0x4($4)
/* 16788 00116688 38000042 */  ei # handwritten instruction
/* 1678C 0011668C 6851040C */  jal        FlushCache
/* 16790 00116690 2D200000 */   daddu     $4, $0, $0
/* 16794 00116694 0010023C */  lui        $2, (0x1000E010 >> 16)
/* 16798 00116698 10E04234 */  ori        $2, $2, (0x1000E010 & 0xFFFF)
/* 1679C 0011669C 0000438C */  lw         $3, 0x0($2)
/* 167A0 001166A0 20006330 */  andi       $3, $3, 0x20
/* 167A4 001166A4 04006010 */  beqz       $3, .L001166B8
/* 167A8 001166A8 0010023C */   lui       $2, (0x1000C000 >> 16)
/* 167AC 001166AC 0110013C */  lui        $at, (0x10010000 >> 16)
/* 167B0 001166B0 10E030AC */  sw         $16, -0x1FF0($at)
/* 167B4 001166B4 0010023C */  lui        $2, (0x1000C000 >> 16)
.L001166B8:
/* 167B8 001166B8 00C04234 */  ori        $2, $2, (0x1000C000 & 0xFFFF)
/* 167BC 001166BC 0000438C */  lw         $3, 0x0($2)
/* 167C0 001166C0 00016330 */  andi       $3, $3, 0x100
/* 167C4 001166C4 04006014 */  bnez       $3, .L001166D8
/* 167C8 001166C8 1100053C */   lui       $5, %hi(_sceSifCmdIntrHdlr)
/* 167CC 001166CC C051040C */  jal        sceSifSetDChain
/* 167D0 001166D0 00000000 */   nop
/* 167D4 001166D4 1100053C */  lui        $5, %hi(_sceSifCmdIntrHdlr)
.L001166D8:
/* 167D8 001166D8 05000424 */  addiu      $4, $0, 0x5
/* 167DC 001166DC 786AA524 */  addiu      $5, $5, %lo(_sceSifCmdIntrHdlr)
/* 167E0 001166E0 0C50040C */  jal        AddDmacHandler
/* 167E4 001166E4 2D300000 */   daddu     $6, $0, $0
/* 167E8 001166E8 2A00033C */  lui        $3, (0x2A5914 >> 16)
/* 167EC 001166EC 05000424 */  addiu      $4, $0, 0x5
/* 167F0 001166F0 B653040C */  jal        EnableDmac
/* 167F4 001166F4 145962AC */   sw        $2, (0x2A5914 & 0xFFFF)($3)
/* 167F8 001166F8 0080043C */  lui        $4, (0x80000000 >> 16)
/* 167FC 001166FC CC51040C */  jal        sceSifGetReg
/* 16800 00116700 00000000 */   nop
/* 16804 00116704 11004010 */  beqz       $2, .L0011674C
/* 16808 00116708 080022AE */   sw        $2, 0x8($17)
/* 1680C 0011670C 00598526 */  addiu      $5, $20, %lo(D_002A5900)
/* 16810 00116710 40586226 */  addiu      $2, $19, %lo(D_002A5840)
/* 16814 00116714 5000BFDF */  ld         $31, 0x50($sp)
/* 16818 00116718 0080043C */  lui        $4, (0x80000000 >> 16)
/* 1681C 0011671C 4000B4DF */  ld         $20, 0x40($sp)
/* 16820 00116720 14000624 */  addiu      $6, $0, 0x14
/* 16824 00116724 3000B3DF */  ld         $19, 0x30($sp)
/* 16828 00116728 2D380000 */  daddu      $7, $0, $0
/* 1682C 0011672C 2000B2DF */  ld         $18, 0x20($sp)
/* 16830 00116730 2D400000 */  daddu      $8, $0, $0
/* 16834 00116734 1000B1DF */  ld         $17, 0x10($sp)
/* 16838 00116738 2D480000 */  daddu      $9, $0, $0
/* 1683C 0011673C 0000B0DF */  ld         $16, 0x0($sp)
/* 16840 00116740 1000A2AC */  sw         $2, 0x10($5)
/* 16844 00116744 7E5A0408 */  j          sceSifSendCmd
/* 16848 00116748 6000BD27 */   addiu     $sp, $sp, 0x60
.L0011674C:
/* 1684C 0011674C 0200103C */  lui        $16, (0x20000 >> 16)
.L00116750:
/* 16850 00116750 CC51040C */  jal        sceSifGetReg
/* 16854 00116754 04000424 */   addiu     $4, $0, 0x4
/* 16858 00116758 24105000 */  and        $2, $2, $16
/* 1685C 0011675C FCFF4010 */  beqz       $2, .L00116750
/* 16860 00116760 02000424 */   addiu     $4, $0, 0x2
/* 16864 00116764 CC51040C */  jal        sceSifGetReg
/* 16868 00116768 18595026 */   addiu     $16, $18, %lo(D_002A5918)
/* 1686C 0011676C 080002AE */  sw         $2, 0x8($16)
/* 16870 00116770 0080043C */  lui        $4, (0x80000000 >> 16)
/* 16874 00116774 C851040C */  jal        sceSifSetReg
/* 16878 00116778 2D284000 */   daddu     $5, $2, $0
/* 1687C 0011677C 0080043C */  lui        $4, (0x80000001 >> 16)
/* 16880 00116780 2D280002 */  daddu      $5, $16, $0
/* 16884 00116784 C851040C */  jal        sceSifSetReg
/* 16888 00116788 01008434 */   ori       $4, $4, (0x80000001 & 0xFFFF)
/* 1688C 0011678C 00598326 */  addiu      $3, $20, %lo(D_002A5900)
/* 16890 00116790 40586226 */  addiu      $2, $19, %lo(D_002A5840)
/* 16894 00116794 0080043C */  lui        $4, (0x80000002 >> 16)
/* 16898 00116798 5000BFDF */  ld         $31, 0x50($sp)
/* 1689C 0011679C 4000B4DF */  ld         $20, 0x40($sp)
/* 168A0 001167A0 2D286000 */  daddu      $5, $3, $0
/* 168A4 001167A4 3000B3DF */  ld         $19, 0x30($sp)
/* 168A8 001167A8 02008434 */  ori        $4, $4, (0x80000002 & 0xFFFF)
/* 168AC 001167AC 2000B2DF */  ld         $18, 0x20($sp)
/* 168B0 001167B0 14000624 */  addiu      $6, $0, 0x14
/* 168B4 001167B4 1000B1DF */  ld         $17, 0x10($sp)
/* 168B8 001167B8 2D380000 */  daddu      $7, $0, $0
/* 168BC 001167BC 0000B0DF */  ld         $16, 0x0($sp)
/* 168C0 001167C0 2D400000 */  daddu      $8, $0, $0
/* 168C4 001167C4 100062AC */  sw         $2, 0x10($3)
/* 168C8 001167C8 2D480000 */  daddu      $9, $0, $0
/* 168CC 001167CC 0C0060AC */  sw         $0, 0xC($3)
/* 168D0 001167D0 7E5A0408 */  j          sceSifSendCmd
/* 168D4 001167D4 6000BD27 */   addiu     $sp, $sp, 0x60
.L001167D8:
/* 168D8 001167D8 38000042 */  ei # handwritten instruction
/* 168DC 001167DC 5000BFDF */  ld         $31, 0x50($sp)
/* 168E0 001167E0 4000B4DF */  ld         $20, 0x40($sp)
/* 168E4 001167E4 3000B3DF */  ld         $19, 0x30($sp)
/* 168E8 001167E8 2000B2DF */  ld         $18, 0x20($sp)
/* 168EC 001167EC 1000B1DF */  ld         $17, 0x10($sp)
/* 168F0 001167F0 0000B0DF */  ld         $16, 0x0($sp)
/* 168F4 001167F4 0800E003 */  jr         $31
/* 168F8 001167F8 6000BD27 */   addiu     $sp, $sp, 0x60
/* 168FC 001167FC 00000000 */  nop
