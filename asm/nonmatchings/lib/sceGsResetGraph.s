.include "macro.inc"

.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */

glabel sceGsResetGraph
/* 123B0 001122B0 B0FFBD27 */  addiu      $sp, $sp, -0x50
/* 123B4 001122B4 00240400 */  sll        $4, $4, 16
/* 123B8 001122B8 3000B3FF */  sd         $19, 0x30($sp)
/* 123BC 001122BC 002C0500 */  sll        $5, $5, 16
/* 123C0 001122C0 2000B2FF */  sd         $18, 0x20($sp)
/* 123C4 001122C4 00340600 */  sll        $6, $6, 16
/* 123C8 001122C8 1000B1FF */  sd         $17, 0x10($sp)
/* 123CC 001122CC 003C0700 */  sll        $7, $7, 16
/* 123D0 001122D0 4000BFFF */  sd         $31, 0x40($sp)
/* 123D4 001122D4 03240400 */  sra        $4, $4, 16
/* 123D8 001122D8 0000B0FF */  sd         $16, 0x0($sp)
/* 123DC 001122DC 038C0500 */  sra        $17, $5, 16
/* 123E0 001122E0 03940600 */  sra        $18, $6, 16
/* 123E4 001122E4 06008010 */  beqz       $4, .L00112300
/* 123E8 001122E8 039C0700 */   sra       $19, $7, 16
/* 123EC 001122EC 01000224 */  addiu      $2, $0, 0x1
/* 123F0 001122F0 28008210 */  beq        $4, $2, .L00112394
/* 123F4 001122F4 4000BFDF */   ld        $31, 0x40($sp)
/* 123F8 001122F8 2C000010 */  b          .L001123AC
/* 123FC 001122FC 3000B3DF */   ld        $19, 0x30($sp)
.L00112300:
/* 12400 00112300 F048040C */  jal        sceGsGetGParam
/* 12404 00112304 00000000 */   nop
/* 12408 00112308 2D804000 */  daddu      $16, $2, $0
/* 1240C 0011230C 0012033C */  lui        $3, (0x12001000 >> 16)
/* 12410 00112310 00106334 */  ori        $3, $3, (0x12001000 & 0xFFFF)
/* 12414 00112314 00020224 */  addiu      $2, $0, 0x200
/* 12418 00112318 000062FC */  sd         $2, 0x0($3)
/* 1241C 0011231C 00FF0434 */  ori        $4, $0, 0xFF00
/* 12420 00112320 000011A6 */  sh         $17, 0x0($16)
/* 12424 00112324 000062DC */  ld         $2, 0x0($3)
/* 12428 00112328 020012A6 */  sh         $18, 0x2($16)
/* 1242C 0011232C 3A140200 */  dsrl       $2, $2, 16
/* 12430 00112330 FF004230 */  andi       $2, $2, 0xFF
/* 12434 00112334 FFFF4230 */  andi       $2, $2, 0xFFFF
/* 12438 00112338 9851040C */  jal        GsPutIMR
/* 1243C 0011233C 060002A6 */   sh        $2, 0x6($16)
/* 12440 00112340 2B181300 */  sltu       $3, $0, $19
/* 12444 00112344 0800028E */  lw         $2, 0x8($16)
/* 12448 00112348 08004010 */  beqz       $2, .L0011236C
/* 1244C 0011234C 040003A6 */   sh        $3, 0x4($16)
/* 12450 00112350 6853040C */  jal        DisableIntc
/* 12454 00112354 02000424 */   addiu     $4, $0, 0x2
/* 12458 00112358 0C00058E */  lw         $5, 0xC($16)
/* 1245C 0011235C 0850040C */  jal        RemoveIntcHandler
/* 12460 00112360 02000424 */   addiu     $4, $0, 0x2
/* 12464 00112364 0C0000AE */  sw         $0, 0xC($16)
/* 12468 00112368 080000AE */  sw         $0, 0x8($16)
.L0011236C:
/* 1246C 0011236C 01002432 */  andi       $4, $17, 0x1
/* 12470 00112370 FF004532 */  andi       $5, $18, 0xFF
/* 12474 00112374 01006632 */  andi       $6, $19, 0x1
/* 12478 00112378 4000BFDF */  ld         $31, 0x40($sp)
/* 1247C 0011237C 3000B3DF */  ld         $19, 0x30($sp)
/* 12480 00112380 2000B2DF */  ld         $18, 0x20($sp)
/* 12484 00112384 1000B1DF */  ld         $17, 0x10($sp)
/* 12488 00112388 0000B0DF */  ld         $16, 0x0($sp)
/* 1248C 0011238C C84F0408 */  j          SetGsCrt
/* 12490 00112390 5000BD27 */   addiu     $sp, $sp, 0x50
.L00112394:
/* 12494 00112394 0012023C */  lui        $2, (0x12001000 >> 16)
/* 12498 00112398 00010324 */  addiu      $3, $0, 0x100
/* 1249C 0011239C 00104234 */  ori        $2, $2, (0x12001000 & 0xFFFF)
/* 124A0 001123A0 000043FC */  sd         $3, 0x0($2)
/* 124A4 001123A4 4000BFDF */  ld         $31, 0x40($sp)
/* 124A8 001123A8 3000B3DF */  ld         $19, 0x30($sp)
.L001123AC:
/* 124AC 001123AC 2000B2DF */  ld         $18, 0x20($sp)
/* 124B0 001123B0 1000B1DF */  ld         $17, 0x10($sp)
/* 124B4 001123B4 0000B0DF */  ld         $16, 0x0($sp)
/* 124B8 001123B8 0800E003 */  jr         $31
/* 124BC 001123BC 5000BD27 */   addiu     $sp, $sp, 0x50
