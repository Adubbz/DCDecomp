.include "macro.inc"

.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */

glabel strncpy
/* 5A70 00105970 2D408000 */  daddu      $8, $4, $0
/* 5A74 00105974 2538A400 */  or         $7, $5, $4
/* 5A78 00105978 10000A24 */  addiu      $10, $0, 0x10
/* 5A7C 0010597C 0700E230 */  andi       $2, $7, 0x7
/* 5A80 00105980 08000924 */  addiu      $9, $0, 0x8
/* 5A84 00105984 54004014 */  bnez       $2, .L00105AD8
/* 5A88 00105988 0F00E230 */   andi      $2, $7, 0xF
/* 5A8C 0010598C 0A484201 */  movz       $9, $10, $2
/* 5A90 00105990 2C004014 */  bnez       $2, .L00105A44
/* 5A94 00105994 2B10C900 */   sltu      $2, $6, $9
/* 5A98 00105998 4F004014 */  bnez       $2, .L00105AD8
/* 5A9C 0010599C 00000000 */   nop
/* 5AA0 001059A0 0101073C */  lui        $7, (0x1010101 >> 16)
/* 5AA4 001059A4 0101E734 */  ori        $7, $7, (0x1010101 & 0xFFFF)
/* 5AA8 001059A8 383C0700 */  dsll       $7, $7, 16
/* 5AAC 001059AC 0101E734 */  ori        $7, $7, 0x101
/* 5AB0 001059B0 383C0700 */  dsll       $7, $7, 16
/* 5AB4 001059B4 0101E734 */  ori        $7, $7, 0x101
/* 5AB8 001059B8 0000A378 */  lq         $3, 0x0($5)
/* 5ABC 001059BC 894BE770 */  pcpyld     $9, $7, $7
/* 5AC0 001059C0 E91C0370 */  pnor       $3, $0, $3
/* 5AC4 001059C4 8080073C */  lui        $7, (0x80808080 >> 16)
/* 5AC8 001059C8 8080E734 */  ori        $7, $7, (0x80808080 & 0xFFFF)
/* 5ACC 001059CC 383C0700 */  dsll       $7, $7, 16
/* 5AD0 001059D0 8080E734 */  ori        $7, $7, 0x8080
/* 5AD4 001059D4 383C0700 */  dsll       $7, $7, 16
/* 5AD8 001059D8 8080E734 */  ori        $7, $7, 0x8080
/* 5ADC 001059DC 48126970 */  psubb      $2, $3, $9
/* 5AE0 001059E0 8953E770 */  pcpyld     $10, $7, $7
/* 5AE4 001059E4 89144370 */  pand       $2, $2, $3
/* 5AE8 001059E8 89144A70 */  pand       $2, $2, $10
/* 5AEC 001059EC A91B4470 */  pcpyud     $3, $2, $4
/* 5AF0 001059F0 25184300 */  or         $3, $2, $3
/* 5AF4 001059F4 37006014 */  bnez       $3, .L00105AD4
/* 5AF8 001059F8 2D380001 */   daddu     $7, $8, $0
/* 5AFC 001059FC 0000A378 */  lq         $3, 0x0($5)
/* 5B00 00105A00 F0FFC624 */  addiu      $6, $6, -0x10
/* 5B04 00105A04 1000A524 */  addiu      $5, $5, 0x10
/* 5B08 00105A08 1000C22C */  sltiu      $2, $6, 0x10
/* 5B0C 00105A0C 0000E37C */  sq         $3, 0x0($7)
/* 5B10 00105A10 30004014 */  bnez       $2, .L00105AD4
/* 5B14 00105A14 1000E724 */   addiu     $7, $7, 0x10
/* 5B18 00105A18 0000A278 */  lq         $2, 0x0($5)
/* 5B1C 00105A1C E91C0270 */  pnor       $3, $0, $2
/* 5B20 00105A20 48124970 */  psubb      $2, $2, $9
/* 5B24 00105A24 89144370 */  pand       $2, $2, $3
/* 5B28 00105A28 89144A70 */  pand       $2, $2, $10
/* 5B2C 00105A2C A91B4470 */  pcpyud     $3, $2, $4
/* 5B30 00105A30 25104300 */  or         $2, $2, $3
/* 5B34 00105A34 1A004050 */  beql       $2, $0, .L00105AA0
/* 5B38 00105A38 0000A378 */   lq        $3, 0x0($5)
/* 5B3C 00105A3C 26000010 */  b          .L00105AD8
/* 5B40 00105A40 2D20E000 */   daddu     $4, $7, $0
.L00105A44:
/* 5B44 00105A44 24004014 */  bnez       $2, .L00105AD8
/* 5B48 00105A48 00000000 */   nop
/* 5B4C 00105A4C 0000A3DC */  ld         $3, 0x0($5)
/* 5B50 00105A50 0101093C */  lui        $9, (0x1010101 >> 16)
/* 5B54 00105A54 01012935 */  ori        $9, $9, (0x1010101 & 0xFFFF)
/* 5B58 00105A58 384C0900 */  dsll       $9, $9, 16
/* 5B5C 00105A5C 01012935 */  ori        $9, $9, 0x101
/* 5B60 00105A60 384C0900 */  dsll       $9, $9, 16
/* 5B64 00105A64 01012935 */  ori        $9, $9, 0x101
/* 5B68 00105A68 80800A3C */  lui        $10, (0x80808080 >> 16)
/* 5B6C 00105A6C 80804A35 */  ori        $10, $10, (0x80808080 & 0xFFFF)
/* 5B70 00105A70 38540A00 */  dsll       $10, $10, 16
/* 5B74 00105A74 80804A35 */  ori        $10, $10, 0x8080
/* 5B78 00105A78 38540A00 */  dsll       $10, $10, 16
/* 5B7C 00105A7C 80804A35 */  ori        $10, $10, 0x8080
/* 5B80 00105A80 2F106900 */  dsubu      $2, $3, $9
/* 5B84 00105A84 27180300 */  nor        $3, $0, $3
/* 5B88 00105A88 24104300 */  and        $2, $2, $3
/* 5B8C 00105A8C 24104A00 */  and        $2, $2, $10
/* 5B90 00105A90 10004014 */  bnez       $2, .L00105AD4
/* 5B94 00105A94 2D380001 */   daddu     $7, $8, $0
/* 5B98 00105A98 0000A3DC */  ld         $3, 0x0($5)
/* 5B9C 00105A9C 00000000 */  nop
.L00105AA0:
/* 5BA0 00105AA0 F8FFC624 */  addiu      $6, $6, -0x8
/* 5BA4 00105AA4 0800A524 */  addiu      $5, $5, 0x8
/* 5BA8 00105AA8 0800C22C */  sltiu      $2, $6, 0x8
/* 5BAC 00105AAC 0000E3FC */  sd         $3, 0x0($7)
/* 5BB0 00105AB0 08004014 */  bnez       $2, .L00105AD4
/* 5BB4 00105AB4 0800E724 */   addiu     $7, $7, 0x8
/* 5BB8 00105AB8 0000A2DC */  ld         $2, 0x0($5)
/* 5BBC 00105ABC 27180200 */  nor        $3, $0, $2
/* 5BC0 00105AC0 2F104900 */  dsubu      $2, $2, $9
/* 5BC4 00105AC4 24104300 */  and        $2, $2, $3
/* 5BC8 00105AC8 24104A00 */  and        $2, $2, $10
/* 5BCC 00105ACC F4FF4050 */  beql       $2, $0, .L00105AA0
/* 5BD0 00105AD0 0000A3DC */   ld        $3, 0x0($5)
.L00105AD4:
/* 5BD4 00105AD4 2D20E000 */  daddu      $4, $7, $0
.L00105AD8:
/* 5BD8 00105AD8 1200C010 */  beqz       $6, .L00105B24
/* 5BDC 00105ADC 2D10C000 */   daddu     $2, $6, $0
/* 5BE0 00105AE0 0000A290 */  lbu        $2, 0x0($5)
/* 5BE4 00105AE4 FFFFC624 */  addiu      $6, $6, -0x1
/* 5BE8 00105AE8 0100A524 */  addiu      $5, $5, 0x1
/* 5BEC 00105AEC 000082A0 */  sb         $2, 0x0($4)
/* 5BF0 00105AF0 00160200 */  sll        $2, $2, 24
/* 5BF4 00105AF4 F8FF4014 */  bnez       $2, .L00105AD8
/* 5BF8 00105AF8 01008424 */   addiu     $4, $4, 0x1
/* 5BFC 00105AFC 2D10C000 */  daddu      $2, $6, $0
/* 5C00 00105B00 08004010 */  beqz       $2, .L00105B24
/* 5C04 00105B04 FFFFC624 */   addiu     $6, $6, -0x1
.L00105B08:
/* 5C08 00105B08 000080A0 */  sb         $0, 0x0($4)
/* 5C0C 00105B0C 2D10C000 */  daddu      $2, $6, $0
/* 5C10 00105B10 01008424 */  addiu      $4, $4, 0x1
/* 5C14 00105B14 00000000 */  nop
/* 5C18 00105B18 00000000 */  nop
/* 5C1C 00105B1C FAFF4014 */  bnez       $2, .L00105B08
/* 5C20 00105B20 FFFFC624 */   addiu     $6, $6, -0x1
.L00105B24:
/* 5C24 00105B24 0800E003 */  jr         $31
/* 5C28 00105B28 2D100001 */   daddu     $2, $8, $0
/* 5C2C 00105B2C 00000000 */  nop
