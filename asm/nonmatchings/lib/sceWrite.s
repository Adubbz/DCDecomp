.include "macro.inc"

.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */

glabel sceWrite
/* 18560 00118460 50FFBD27 */  addiu      $sp, $sp, -0xB0
/* 18564 00118464 3000B2FF */  sd         $18, 0x30($sp)
/* 18568 00118468 1000B0FF */  sd         $16, 0x10($sp)
/* 1856C 0011846C 2D90C000 */  daddu      $18, $6, $0
/* 18570 00118470 9000BEFF */  sd         $fp, 0x90($sp)
/* 18574 00118474 2D80A000 */  daddu      $16, $5, $0
/* 18578 00118478 8000B7FF */  sd         $23, 0x80($sp)
/* 1857C 0011847C 2DF00000 */  daddu      $fp, $0, $0
/* 18580 00118480 7000B6FF */  sd         $22, 0x70($sp)
/* 18584 00118484 FFFF1724 */  addiu      $23, $0, -0x1
/* 18588 00118488 6000B5FF */  sd         $21, 0x60($sp)
/* 1858C 0011848C 2A00163C */  lui        $22, (0x2A7300 >> 16)
/* 18590 00118490 4000B3FF */  sd         $19, 0x40($sp)
/* 18594 00118494 0073D526 */  addiu      $21, $22, %lo(D_002A7300)
/* 18598 00118498 A000BFFF */  sd         $31, 0xA0($sp)
/* 1859C 0011849C 5000B4FF */  sd         $20, 0x50($sp)
/* 185A0 001184A0 F85E040C */  jal        get_iob
/* 185A4 001184A4 2000B1FF */   sd        $17, 0x20($sp)
/* 185A8 001184A8 2D984000 */  daddu      $19, $2, $0
/* 185AC 001184AC 2500023C */  lui        $2, (0x250A08 >> 16)
/* 185B0 001184B0 080A438C */  lw         $3, (0x250A08 & 0xFFFF)($2)
/* 185B4 001184B4 03006054 */  bnel       $3, $0, .L001184C4
/* 185B8 001184B8 0400658E */   lw        $5, 0x4($19)
/* 185BC 001184BC 56000010 */  b          .L00118618
/* 185C0 001184C0 FFFF0224 */   addiu     $2, $0, -0x1
.L001184C4:
/* 185C4 001184C4 065F040C */  jal        _sceFsDbChk
/* 185C8 001184C8 03000424 */   addiu     $4, $0, 0x3
/* 185CC 001184CC 52004014 */  bnez       $2, .L00118618
/* 185D0 001184D0 F0FF0224 */   addiu     $2, $0, -0x10
/* 185D4 001184D4 04006012 */  beqz       $19, .L001184E8
/* 185D8 001184D8 00000000 */   nop
/* 185DC 001184DC 0400628E */  lw         $2, 0x4($19)
/* 185E0 001184E0 05004054 */  bnel       $2, $0, .L001184F8
/* 185E4 001184E4 0000628E */   lw        $2, 0x0($19)
.L001184E8:
/* 185E8 001184E8 085F040C */  jal        _sceFsSigSema
/* 185EC 001184EC 00000000 */   nop
/* 185F0 001184F0 49000010 */  b          .L00118618
/* 185F4 001184F4 F7FF0224 */   addiu     $2, $0, -0x9
.L001184F8:
/* 185F8 001184F8 0F000332 */  andi       $3, $16, 0xF
/* 185FC 001184FC 0800B2AE */  sw         $18, 0x8($21)
/* 18600 00118500 0073C2AE */  sw         $2, (0x2A7300 & 0xFFFF)($22)
/* 18604 00118504 03006014 */  bnez       $3, .L00118514
/* 18608 00118508 0400B0AE */   sw        $16, 0x4($21)
/* 1860C 0011850C 05000010 */  b          .L00118524
/* 18610 00118510 2D880000 */   daddu     $17, $0, $0
.L00118514:
/* 18614 00118514 02111000 */  srl        $2, $16, 4
/* 18618 00118518 F0FF0326 */  addiu      $3, $16, -0x10
/* 1861C 0011851C 00110200 */  sll        $2, $2, 4
/* 18620 00118520 23884300 */  subu       $17, $2, $3
.L00118524:
/* 18624 00118524 0400648E */  lw         $4, 0x4($19)
/* 18628 00118528 2A105102 */  slt        $2, $18, $17
/* 1862C 0011852C 00808330 */  andi       $3, $4, 0x8000
/* 18630 00118530 04006010 */  beqz       $3, .L00118544
/* 18634 00118534 0B884202 */   movn      $17, $18, $2
/* 18638 00118538 2500023C */  lui        $2, (0x250A0C >> 16)
/* 1863C 0011853C 01001E24 */  addiu      $fp, $0, 0x1
/* 18640 00118540 0C0A578C */  lw         $23, (0x250A0C & 0xFFFF)($2)
.L00118544:
/* 18644 00118544 0020143C */  lui        $20, (0x20000000 >> 16)
/* 18648 00118548 24109400 */  and        $2, $4, $20
/* 1864C 0011854C 05004054 */  bnel       $2, $0, .L00118564
/* 18650 00118550 25801402 */   or        $16, $16, $20
/* 18654 00118554 2D284002 */  daddu      $5, $18, $0
/* 18658 00118558 E65A040C */  jal        sceSifWriteBackDCache
/* 1865C 0011855C 2D200002 */   daddu     $4, $16, $0
/* 18660 00118560 25801402 */  or         $16, $16, $20
.L00118564:
/* 18664 00118564 0C00B1AE */  sw         $17, 0xC($21)
/* 18668 00118568 0F00201A */  blez       $17, .L001185A8
/* 1866C 0011856C 2D280000 */   daddu     $5, $0, $0
/* 18670 00118570 1000A626 */  addiu      $6, $21, 0x10
/* 18674 00118574 2B00073C */  lui        $7, %hi(D_002A8110)
/* 18678 00118578 2A00093C */  lui        $9, %hi(D_002A7F40)
/* 1867C 0011857C 11000B3C */  lui        $11, %hi(_sceFsIntrSigSema)
.L00118580:
/* 18680 00118580 21100502 */  addu       $2, $16, $5
/* 18684 00118584 2120C500 */  addu       $4, $6, $5
/* 18688 00118588 00004390 */  lbu        $3, (0x20000000 & 0xFFFF)($2)
/* 1868C 0011858C 0100A524 */  addiu      $5, $5, 0x1
/* 18690 00118590 2A10B100 */  slt        $2, $5, $17
/* 18694 00118594 000083A0 */  sb         $3, 0x0($4)
/* 18698 00118598 F9FF4014 */  bnez       $2, .L00118580
/* 1869C 0011859C 00000000 */   nop
/* 186A0 001185A0 05000010 */  b          .L001185B8
/* 186A4 001185A4 407F3025 */   addiu     $16, $9, %lo(D_002A7F40)
.L001185A8:
/* 186A8 001185A8 2B00073C */  lui        $7, %hi(D_002A8110)
/* 186AC 001185AC 2A00093C */  lui        $9, %hi(D_002A7F40)
/* 186B0 001185B0 11000B3C */  lui        $11, %hi(_sceFsIntrSigSema)
/* 186B4 001185B4 407F3025 */  addiu      $16, $9, %lo(D_002A7F40)
.L001185B8:
/* 186B8 001185B8 1081E424 */  addiu      $4, $7, %lo(D_002A8110)
/* 186BC 001185BC 0000B7AF */  sw         $23, 0x0($sp)
/* 186C0 001185C0 2D30C003 */  daddu      $6, $fp, $0
/* 186C4 001185C4 0073C726 */  addiu      $7, $22, %lo(D_002A7300)
/* 186C8 001185C8 287C6B25 */  addiu      $11, $11, %lo(_sceFsIntrSigSema)
/* 186CC 001185CC 03000524 */  addiu      $5, $0, 0x3
/* 186D0 001185D0 20000824 */  addiu      $8, $0, 0x20
/* 186D4 001185D4 2D480002 */  daddu      $9, $16, $0
/* 186D8 001185D8 2A5D040C */  jal        sceSifCallRpc
/* 186DC 001185DC 04000A24 */   addiu     $10, $0, 0x4
/* 186E0 001185E0 05004304 */  bgezl      $2, .L001185F8
/* 186E4 001185E4 0400628E */   lw        $2, 0x4($19)
/* 186E8 001185E8 085F040C */  jal        _sceFsSigSema
/* 186EC 001185EC 00000000 */   nop
/* 186F0 001185F0 09000010 */  b          .L00118618
/* 186F4 001185F4 FFFF0224 */   addiu     $2, $0, -0x1
.L001185F8:
/* 186F8 001185F8 00804230 */  andi       $2, $2, 0x8000
/* 186FC 001185FC 06004014 */  bnez       $2, .L00118618
/* 18700 00118600 2D100000 */   daddu     $2, $0, $0
/* 18704 00118604 0020023C */  lui        $2, (0x20000000 >> 16)
/* 18708 00118608 25100202 */  or         $2, $16, $2
/* 1870C 0011860C 085F040C */  jal        _sceFsSigSema
/* 18710 00118610 0000508C */   lw        $16, (0x20000000 & 0xFFFF)($2)
/* 18714 00118614 2D100002 */  daddu      $2, $16, $0
.L00118618:
/* 18718 00118618 A000BFDF */  ld         $31, 0xA0($sp)
/* 1871C 0011861C 9000BEDF */  ld         $fp, 0x90($sp)
/* 18720 00118620 8000B7DF */  ld         $23, 0x80($sp)
/* 18724 00118624 7000B6DF */  ld         $22, 0x70($sp)
/* 18728 00118628 6000B5DF */  ld         $21, 0x60($sp)
/* 1872C 0011862C 5000B4DF */  ld         $20, 0x50($sp)
/* 18730 00118630 4000B3DF */  ld         $19, 0x40($sp)
/* 18734 00118634 3000B2DF */  ld         $18, 0x30($sp)
/* 18738 00118638 2000B1DF */  ld         $17, 0x20($sp)
/* 1873C 0011863C 1000B0DF */  ld         $16, 0x10($sp)
/* 18740 00118640 0800E003 */  jr         $31
/* 18744 00118644 B000BD27 */   addiu     $sp, $sp, 0xB0
