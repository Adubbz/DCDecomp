.include "macro.inc"

.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */

glabel memchr
/* 3338 00103238 1000C22C */  sltiu      $2, $6, 0x10
/* 333C 0010323C 26004014 */  bnez       $2, .L001032D8
/* 3340 00103240 FF00A530 */   andi      $5, $5, 0xFF
/* 3344 00103244 0F008230 */  andi       $2, $4, 0xF
/* 3348 00103248 23004014 */  bnez       $2, .L001032D8
/* 334C 0010324C 2D388000 */   daddu     $7, $4, $0
/* 3350 00103250 381A0500 */  dsll       $3, $5, 8
/* 3354 00103254 0101023C */  lui        $2, (0x1010101 >> 16)
/* 3358 00103258 01014234 */  ori        $2, $2, (0x1010101 & 0xFFFF)
/* 335C 0010325C 38140200 */  dsll       $2, $2, 16
/* 3360 00103260 01014234 */  ori        $2, $2, 0x101
/* 3364 00103264 38140200 */  dsll       $2, $2, 16
/* 3368 00103268 01014234 */  ori        $2, $2, 0x101
/* 336C 0010326C 2D506500 */  daddu      $10, $3, $5
/* 3370 00103270 8080033C */  lui        $3, (0x80808080 >> 16)
/* 3374 00103274 80806334 */  ori        $3, $3, (0x80808080 & 0xFFFF)
/* 3378 00103278 381C0300 */  dsll       $3, $3, 16
/* 337C 0010327C 80806334 */  ori        $3, $3, 0x8080
/* 3380 00103280 381C0300 */  dsll       $3, $3, 16
/* 3384 00103284 80806334 */  ori        $3, $3, 0x8080
/* 3388 00103288 E9460A70 */  pcpyh      $8, $10
/* 338C 0010328C 894B0871 */  pcpyld     $9, $8, $8
/* 3390 00103290 2D204000 */  daddu      $4, $2, $0
/* 3394 00103294 89436370 */  pcpyld     $8, $3, $3
.L00103298:
/* 3398 00103298 0000E278 */  lq         $2, 0x0($7)
/* 339C 0010329C C9144970 */  pxor       $2, $2, $9
/* 33A0 001032A0 89538470 */  pcpyld     $10, $4, $4
/* 33A4 001032A4 E91C0270 */  pnor       $3, $0, $2
/* 33A8 001032A8 48124A70 */  psubb      $2, $2, $10
/* 33AC 001032AC 89144370 */  pand       $2, $2, $3
/* 33B0 001032B0 89144870 */  pand       $2, $2, $8
/* 33B4 001032B4 A91B4970 */  pcpyud     $3, $2, $9
/* 33B8 001032B8 25104300 */  or         $2, $2, $3
/* 33BC 001032BC 06004054 */  bnel       $2, $0, .L001032D8
/* 33C0 001032C0 2D20E000 */   daddu     $4, $7, $0
/* 33C4 001032C4 F0FFC624 */  addiu      $6, $6, -0x10
/* 33C8 001032C8 1000C22C */  sltiu      $2, $6, 0x10
/* 33CC 001032CC F2FF4010 */  beqz       $2, .L00103298
/* 33D0 001032D0 1000E724 */   addiu     $7, $7, 0x10
/* 33D4 001032D4 2D20E000 */  daddu      $4, $7, $0
.L001032D8:
/* 33D8 001032D8 FFFF023C */  lui        $2, (0xFFFFFFFF >> 16)
/* 33DC 001032DC FFFFC624 */  addiu      $6, $6, -0x1
/* 33E0 001032E0 FFFF4234 */  ori        $2, $2, (0xFFFFFFFF & 0xFFFF)
/* 33E4 001032E4 0800C210 */  beq        $6, $2, .L00103308
/* 33E8 001032E8 00000000 */   nop
/* 33EC 001032EC FFFF033C */  lui        $3, (0xFFFFFFFF >> 16)
/* 33F0 001032F0 FFFF6334 */  ori        $3, $3, (0xFFFFFFFF & 0xFFFF)
.L001032F4:
/* 33F4 001032F4 00008290 */  lbu        $2, 0x0($4)
/* 33F8 001032F8 05004510 */  beq        $2, $5, .L00103310
/* 33FC 001032FC FFFFC624 */   addiu     $6, $6, -0x1
/* 3400 00103300 FCFFC314 */  bne        $6, $3, .L001032F4
/* 3404 00103304 01008424 */   addiu     $4, $4, 0x1
.L00103308:
/* 3408 00103308 0800E003 */  jr         $31
/* 340C 0010330C 2D100000 */   daddu     $2, $0, $0
.L00103310:
/* 3410 00103310 0800E003 */  jr         $31
/* 3414 00103314 2D108000 */   daddu     $2, $4, $0
