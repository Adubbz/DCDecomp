.include "macro.inc"

.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */

glabel sceSifResetIop
/* 194B8 001193B8 C0FFBD27 */  addiu      $sp, $sp, -0x40
/* 194BC 001193BC 2000B1FF */  sd         $17, 0x20($sp)
/* 194C0 001193C0 1000B0FF */  sd         $16, 0x10($sp)
/* 194C4 001193C4 2D888000 */  daddu      $17, $4, $0
/* 194C8 001193C8 3000BFFF */  sd         $31, 0x30($sp)
/* 194CC 001193CC 7C51040C */  jal        sceSifStopDma
/* 194D0 001193D0 2D80A000 */   daddu     $16, $5, $0
/* 194D4 001193D4 0080043C */  lui        $4, (0x80000000 >> 16)
/* 194D8 001193D8 CC51040C */  jal        sceSifGetReg
/* 194DC 001193DC 00000000 */   nop
/* 194E0 001193E0 2B000A3C */  lui        $10, %hi(D_002A85C0)
/* 194E4 001193E4 2D584000 */  daddu      $11, $2, $0
/* 194E8 001193E8 C0854325 */  addiu      $3, $10, %lo(D_002A85C0)
/* 194EC 001193EC 140070AC */  sw         $16, 0x14($3)
/* 194F0 001193F0 00002282 */  lb         $2, 0x0($17)
/* 194F4 001193F4 0C004010 */  beqz       $2, .L00119428
/* 194F8 001193F8 2D480000 */   daddu     $9, $0, $0
/* 194FC 001193FC 2D102002 */  daddu      $2, $17, $0
/* 19500 00119400 00004490 */  lbu        $4, 0x0($2)
/* 19504 00119404 00000000 */  nop
.L00119408:
/* 19508 00119408 C0854325 */  addiu      $3, $10, %lo(D_002A85C0)
/* 1950C 0011940C 21186900 */  addu       $3, $3, $9
/* 19510 00119410 01002925 */  addiu      $9, $9, 0x1
/* 19514 00119414 180064A0 */  sb         $4, 0x18($3)
/* 19518 00119418 21102902 */  addu       $2, $17, $9
/* 1951C 0011941C 00004380 */  lb         $3, 0x0($2)
/* 19520 00119420 F9FF6054 */  bnel       $3, $0, .L00119408
/* 19524 00119424 00004490 */   lbu       $4, 0x0($2)
.L00119428:
/* 19528 00119428 C0854625 */  addiu      $6, $10, %lo(D_002A85C0)
/* 1952C 0011942C 0080033C */  lui        $3, (0x80000003 >> 16)
/* 19530 00119430 0400C0AC */  sw         $0, 0x4($6)
/* 19534 00119434 FFFF0424 */  addiu      $4, $0, -0x1
/* 19538 00119438 3C200400 */  dsll32     $4, $4, 0
/* 1953C 0011943C FF008434 */  ori        $4, $4, 0xFF
/* 19540 00119440 03006334 */  ori        $3, $3, (0x80000003 & 0xFFFF)
/* 19544 00119444 68000524 */  addiu      $5, $0, 0x68
/* 19548 00119448 C08542DD */  ld         $2, -0x7A40($10)
/* 1954C 0011944C 68000724 */  addiu      $7, $0, 0x68
/* 19550 00119450 1000C9AC */  sw         $9, 0x10($6)
/* 19554 00119454 44000824 */  addiu      $8, $0, 0x44
/* 19558 00119458 0800C3AC */  sw         $3, 0x8($6)
/* 1955C 0011945C 24104400 */  and        $2, $2, $4
/* 19560 00119460 C08542FD */  sd         $2, -0x7A40($10)
/* 19564 00119464 2D20C000 */  daddu      $4, $6, $0
/* 19568 00119468 C08545A1 */  sb         $5, -0x7A40($10)
/* 1956C 0011946C 68000524 */  addiu      $5, $0, 0x68
/* 19570 00119470 0400ABAF */  sw         $11, 0x4($sp)
/* 19574 00119474 0800A7AF */  sw         $7, 0x8($sp)
/* 19578 00119478 0C00A8AF */  sw         $8, 0xC($sp)
/* 1957C 0011947C E65A040C */  jal        sceSifWriteBackDCache
/* 19580 00119480 0000A6AF */   sw        $6, 0x0($sp)
/* 19584 00119484 2D20A003 */  daddu      $4, $sp, $0
/* 19588 00119488 B851040C */  jal        sceSifSetDma
/* 1958C 0011948C 01000524 */   addiu     $5, $0, 0x1
/* 19590 00119490 0F004010 */  beqz       $2, .L001194D0
/* 19594 00119494 04000424 */   addiu     $4, $0, 0x4
/* 19598 00119498 C851040C */  jal        sceSifSetReg
/* 1959C 0011949C 0100053C */   lui       $5, (0x10000 >> 16)
/* 195A0 001194A0 04000424 */  addiu      $4, $0, 0x4
/* 195A4 001194A4 C851040C */  jal        sceSifSetReg
/* 195A8 001194A8 0200053C */   lui       $5, (0x20000 >> 16)
/* 195AC 001194AC 0080043C */  lui        $4, (0x80000002 >> 16)
/* 195B0 001194B0 2D280000 */  daddu      $5, $0, $0
/* 195B4 001194B4 C851040C */  jal        sceSifSetReg
/* 195B8 001194B8 02008434 */   ori       $4, $4, (0x80000002 & 0xFFFF)
/* 195BC 001194BC 0080043C */  lui        $4, (0x80000000 >> 16)
/* 195C0 001194C0 C851040C */  jal        sceSifSetReg
/* 195C4 001194C4 2D280000 */   daddu     $5, $0, $0
/* 195C8 001194C8 02000010 */  b          .L001194D4
/* 195CC 001194CC 01000224 */   addiu     $2, $0, 0x1
.L001194D0:
/* 195D0 001194D0 2D100000 */  daddu      $2, $0, $0
.L001194D4:
/* 195D4 001194D4 3000BFDF */  ld         $31, 0x30($sp)
/* 195D8 001194D8 2000B1DF */  ld         $17, 0x20($sp)
/* 195DC 001194DC 1000B0DF */  ld         $16, 0x10($sp)
/* 195E0 001194E0 0800E003 */  jr         $31
/* 195E4 001194E4 4000BD27 */   addiu     $sp, $sp, 0x40
