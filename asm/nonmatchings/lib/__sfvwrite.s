.include "macro.inc"

.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */

glabel __sfvwrite
/* 21E0 001020E0 70FFBD27 */  addiu      $sp, $sp, -0x90
/* 21E4 001020E4 6000B6FF */  sd         $22, 0x60($sp)
/* 21E8 001020E8 1000B1FF */  sd         $17, 0x10($sp)
/* 21EC 001020EC 2DB0A000 */  daddu      $22, $5, $0
/* 21F0 001020F0 8000BFFF */  sd         $31, 0x80($sp)
/* 21F4 001020F4 7000B7FF */  sd         $23, 0x70($sp)
/* 21F8 001020F8 5000B5FF */  sd         $21, 0x50($sp)
/* 21FC 001020FC 4000B4FF */  sd         $20, 0x40($sp)
/* 2200 00102100 3000B3FF */  sd         $19, 0x30($sp)
/* 2204 00102104 0000B0FF */  sd         $16, 0x0($sp)
/* 2208 00102108 2000B2FF */  sd         $18, 0x20($sp)
/* 220C 0010210C 0800D28E */  lw         $18, 0x8($22)
/* 2210 00102110 D8004012 */  beqz       $18, .L00102474
/* 2214 00102114 2D888000 */   daddu     $17, $4, $0
/* 2218 00102118 0C002396 */  lhu        $3, 0xC($17)
/* 221C 0010211C 08006230 */  andi       $2, $3, 0x8
/* 2220 00102120 04004010 */  beqz       $2, .L00102134
/* 2224 00102124 00000000 */   nop
/* 2228 00102128 1000228E */  lw         $2, 0x10($17)
/* 222C 0010212C 07004054 */  bnel       $2, $0, .L0010214C
/* 2230 00102130 0000D48E */   lw        $20, 0x0($22)
.L00102134:
/* 2234 00102134 2225040C */  jal        __swsetup
/* 2238 00102138 2D202002 */   daddu     $4, $17, $0
/* 223C 0010213C D3004014 */  bnez       $2, .L0010248C
/* 2240 00102140 FFFF0224 */   addiu     $2, $0, -0x1
/* 2244 00102144 0C002396 */  lhu        $3, 0xC($17)
/* 2248 00102148 0000D48E */  lw         $20, 0x0($22)
.L0010214C:
/* 224C 0010214C 02006230 */  andi       $2, $3, 0x2
/* 2250 00102150 1E004010 */  beqz       $2, .L001021CC
/* 2254 00102154 2D900000 */   daddu     $18, $0, $0
/* 2258 00102158 00041524 */  addiu      $21, $0, 0x400
/* 225C 0010215C 00000000 */  nop
.L00102160:
/* 2260 00102160 0A004016 */  bnez       $18, .L0010218C
/* 2264 00102164 2400238E */   lw        $3, 0x24($17)
.L00102168:
/* 2268 00102168 0000938E */  lw         $19, 0x0($20)
/* 226C 0010216C 0400928E */  lw         $18, 0x4($20)
/* 2270 00102170 08009426 */  addiu      $20, $20, 0x8
/* 2274 00102174 00000000 */  nop
/* 2278 00102178 00000000 */  nop
/* 227C 0010217C FAFF4012 */  beqz       $18, .L00102168
/* 2280 00102180 00000000 */   nop
/* 2284 00102184 02000010 */  b          .L00102190
/* 2288 00102188 0104422E */   sltiu     $2, $18, 0x401
.L0010218C:
/* 228C 0010218C 0104422E */  sltiu      $2, $18, 0x401
.L00102190:
/* 2290 00102190 1C00248E */  lw         $4, 0x1C($17)
/* 2294 00102194 2D30A002 */  daddu      $6, $21, $0
/* 2298 00102198 2D286002 */  daddu      $5, $19, $0
/* 229C 0010219C 09F86000 */  jalr       $3
/* 22A0 001021A0 0B304202 */   movn      $6, $18, $2
/* 22A4 001021A4 2D804000 */  daddu      $16, $2, $0
/* 22A8 001021A8 B400001A */  blez       $16, .L0010247C
/* 22AC 001021AC 21987002 */   addu      $19, $19, $16
/* 22B0 001021B0 0800C28E */  lw         $2, 0x8($22)
/* 22B4 001021B4 23905002 */  subu       $18, $18, $16
/* 22B8 001021B8 23105000 */  subu       $2, $2, $16
/* 22BC 001021BC E8FF4014 */  bnez       $2, .L00102160
/* 22C0 001021C0 0800C2AE */   sw        $2, 0x8($22)
/* 22C4 001021C4 B1000010 */  b          .L0010248C
/* 22C8 001021C8 2D100000 */   daddu     $2, $0, $0
.L001021CC:
/* 22CC 001021CC 01006230 */  andi       $2, $3, 0x1
/* 22D0 001021D0 53004014 */  bnez       $2, .L00102320
/* 22D4 001021D4 2DB80000 */   daddu     $23, $0, $0
/* 22D8 001021D8 02000010 */  b          .L001021E4
/* 22DC 001021DC 00000000 */   nop
.L001021E0:
/* 22E0 001021E0 0C002396 */  lhu        $3, 0xC($17)
.L001021E4:
/* 22E4 001021E4 0B004016 */  bnez       $18, .L00102214
/* 22E8 001021E8 0800228E */   lw        $2, 0x8($17)
/* 22EC 001021EC 00000000 */  nop
.L001021F0:
/* 22F0 001021F0 0000938E */  lw         $19, 0x0($20)
/* 22F4 001021F4 0400928E */  lw         $18, 0x4($20)
/* 22F8 001021F8 08009426 */  addiu      $20, $20, 0x8
/* 22FC 001021FC 00000000 */  nop
/* 2300 00102200 00000000 */  nop
/* 2304 00102204 FAFF4012 */  beqz       $18, .L001021F0
/* 2308 00102208 00000000 */   nop
/* 230C 0010220C 02000010 */  b          .L00102218
/* 2310 00102210 2D804000 */   daddu     $16, $2, $0
.L00102214:
/* 2314 00102214 2D804000 */  daddu      $16, $2, $0
.L00102218:
/* 2318 00102218 00026230 */  andi       $2, $3, 0x200
/* 231C 0010221C 0E004010 */  beqz       $2, .L00102258
/* 2320 00102220 2B105002 */   sltu      $2, $18, $16
/* 2324 00102224 0000248E */  lw         $4, 0x0($17)
/* 2328 00102228 0B804202 */  movn       $16, $18, $2
/* 232C 0010222C 2D286002 */  daddu      $5, $19, $0
/* 2330 00102230 180D040C */  jal        memmove
/* 2334 00102234 2D300002 */   daddu     $6, $16, $0
/* 2338 00102238 0800238E */  lw         $3, 0x8($17)
/* 233C 0010223C 0000228E */  lw         $2, 0x0($17)
/* 2340 00102240 23187000 */  subu       $3, $3, $16
/* 2344 00102244 21105000 */  addu       $2, $2, $16
/* 2348 00102248 080023AE */  sw         $3, 0x8($17)
/* 234C 0010224C 000022AE */  sw         $2, 0x0($17)
/* 2350 00102250 2B000010 */  b          .L00102300
/* 2354 00102254 2D804002 */   daddu     $16, $18, $0
.L00102258:
/* 2358 00102258 0000248E */  lw         $4, 0x0($17)
/* 235C 0010225C 1000228E */  lw         $2, 0x10($17)
/* 2360 00102260 2B104400 */  sltu       $2, $2, $4
/* 2364 00102264 0E004010 */  beqz       $2, .L001022A0
/* 2368 00102268 2B101202 */   sltu      $2, $16, $18
/* 236C 0010226C 0C004010 */  beqz       $2, .L001022A0
/* 2370 00102270 2D286002 */   daddu     $5, $19, $0
/* 2374 00102274 180D040C */  jal        memmove
/* 2378 00102278 2D300002 */   daddu     $6, $16, $0
/* 237C 0010227C 0000238E */  lw         $3, 0x0($17)
/* 2380 00102280 2D202002 */  daddu      $4, $17, $0
/* 2384 00102284 21187000 */  addu       $3, $3, $16
/* 2388 00102288 0806040C */  jal        fflush
/* 238C 0010228C 000023AE */   sw        $3, 0x0($17)
/* 2390 00102290 7B004054 */  bnel       $2, $0, .L00102480
/* 2394 00102294 0C002396 */   lhu       $3, 0xC($17)
/* 2398 00102298 1A000010 */  b          .L00102304
/* 239C 0010229C 0800C28E */   lw        $2, 0x8($22)
.L001022A0:
/* 23A0 001022A0 1400308E */  lw         $16, 0x14($17)
/* 23A4 001022A4 2B105002 */  sltu       $2, $18, $16
/* 23A8 001022A8 0B004054 */  bnel       $2, $0, .L001022D8
/* 23AC 001022AC 2D804002 */   daddu     $16, $18, $0
/* 23B0 001022B0 2400228E */  lw         $2, 0x24($17)
/* 23B4 001022B4 2D300002 */  daddu      $6, $16, $0
/* 23B8 001022B8 1C00248E */  lw         $4, 0x1C($17)
/* 23BC 001022BC 09F84000 */  jalr       $2
/* 23C0 001022C0 2D286002 */   daddu     $5, $19, $0
/* 23C4 001022C4 2D804000 */  daddu      $16, $2, $0
/* 23C8 001022C8 6D00005A */  blezl      $16, .L00102480
/* 23CC 001022CC 0C002396 */   lhu       $3, 0xC($17)
/* 23D0 001022D0 0C000010 */  b          .L00102304
/* 23D4 001022D4 0800C28E */   lw        $2, 0x8($22)
.L001022D8:
/* 23D8 001022D8 0000248E */  lw         $4, 0x0($17)
/* 23DC 001022DC 2D286002 */  daddu      $5, $19, $0
/* 23E0 001022E0 180D040C */  jal        memmove
/* 23E4 001022E4 2D300002 */   daddu     $6, $16, $0
/* 23E8 001022E8 0800238E */  lw         $3, 0x8($17)
/* 23EC 001022EC 0000228E */  lw         $2, 0x0($17)
/* 23F0 001022F0 23187000 */  subu       $3, $3, $16
/* 23F4 001022F4 21105000 */  addu       $2, $2, $16
/* 23F8 001022F8 080023AE */  sw         $3, 0x8($17)
/* 23FC 001022FC 000022AE */  sw         $2, 0x0($17)
.L00102300:
/* 2400 00102300 0800C28E */  lw         $2, 0x8($22)
.L00102304:
/* 2404 00102304 21987002 */  addu       $19, $19, $16
/* 2408 00102308 23905002 */  subu       $18, $18, $16
/* 240C 0010230C 23105000 */  subu       $2, $2, $16
/* 2410 00102310 B3FF4014 */  bnez       $2, .L001021E0
/* 2414 00102314 0800C2AE */   sw        $2, 0x8($22)
/* 2418 00102318 5C000010 */  b          .L0010248C
/* 241C 0010231C 2D100000 */   daddu     $2, $0, $0
.L00102320:
/* 2420 00102320 0A004016 */  bnez       $18, .L0010234C
/* 2424 00102324 00000000 */   nop
/* 2428 00102328 2DB80000 */  daddu      $23, $0, $0
/* 242C 0010232C 00000000 */  nop
.L00102330:
/* 2430 00102330 0000938E */  lw         $19, 0x0($20)
/* 2434 00102334 0400928E */  lw         $18, 0x4($20)
/* 2438 00102338 08009426 */  addiu      $20, $20, 0x8
/* 243C 0010233C 00000000 */  nop
/* 2440 00102340 00000000 */  nop
/* 2444 00102344 FAFF4012 */  beqz       $18, .L00102330
/* 2448 00102348 00000000 */   nop
.L0010234C:
/* 244C 0010234C 0D00E056 */  bnel       $23, $0, .L00102384
/* 2450 00102350 1400268E */   lw        $6, 0x14($17)
/* 2454 00102354 2D206002 */  daddu      $4, $19, $0
/* 2458 00102358 0A000524 */  addiu      $5, $0, 0xA
/* 245C 0010235C 8E0C040C */  jal        memchr
/* 2460 00102360 2D304002 */   daddu     $6, $18, $0
/* 2464 00102364 2D184000 */  daddu      $3, $2, $0
/* 2468 00102368 03006010 */  beqz       $3, .L00102378
/* 246C 0010236C FFFF6226 */   addiu     $2, $19, -0x1
/* 2470 00102370 02000010 */  b          .L0010237C
/* 2474 00102374 23A86200 */   subu      $21, $3, $2
.L00102378:
/* 2478 00102378 01005526 */  addiu      $21, $18, 0x1
.L0010237C:
/* 247C 0010237C 01001724 */  addiu      $23, $0, 0x1
/* 2480 00102380 1400268E */  lw         $6, 0x14($17)
.L00102384:
/* 2484 00102384 2B105502 */  sltu       $2, $18, $21
/* 2488 00102388 0800248E */  lw         $4, 0x8($17)
/* 248C 0010238C 2D284002 */  daddu      $5, $18, $0
/* 2490 00102390 0000278E */  lw         $7, 0x0($17)
/* 2494 00102394 2D40C000 */  daddu      $8, $6, $0
/* 2498 00102398 1000238E */  lw         $3, 0x10($17)
/* 249C 0010239C 0A28A202 */  movz       $5, $21, $2
/* 24A0 001023A0 2B186700 */  sltu       $3, $3, $7
/* 24A4 001023A4 10006010 */  beqz       $3, .L001023E8
/* 24A8 001023A8 21808600 */   addu      $16, $4, $6
/* 24AC 001023AC 2A100502 */  slt        $2, $16, $5
/* 24B0 001023B0 0D004010 */  beqz       $2, .L001023E8
/* 24B4 001023B4 2D20E000 */   daddu     $4, $7, $0
/* 24B8 001023B8 2D286002 */  daddu      $5, $19, $0
/* 24BC 001023BC 180D040C */  jal        memmove
/* 24C0 001023C0 2D300002 */   daddu     $6, $16, $0
/* 24C4 001023C4 0000238E */  lw         $3, 0x0($17)
/* 24C8 001023C8 2D202002 */  daddu      $4, $17, $0
/* 24CC 001023CC 21187000 */  addu       $3, $3, $16
/* 24D0 001023D0 0806040C */  jal        fflush
/* 24D4 001023D4 000023AE */   sw        $3, 0x0($17)
/* 24D8 001023D8 28004014 */  bnez       $2, .L0010247C
/* 24DC 001023DC 23A8B002 */   subu      $21, $21, $16
/* 24E0 001023E0 18000010 */  b          .L00102444
/* 24E4 001023E4 00000000 */   nop
.L001023E8:
/* 24E8 001023E8 2A10A800 */  slt        $2, $5, $8
/* 24EC 001023EC 0A004014 */  bnez       $2, .L00102418
/* 24F0 001023F0 2D80A000 */   daddu     $16, $5, $0
/* 24F4 001023F4 2400228E */  lw         $2, 0x24($17)
/* 24F8 001023F8 2D286002 */  daddu      $5, $19, $0
/* 24FC 001023FC 09F84000 */  jalr       $2
/* 2500 00102400 1C00248E */   lw        $4, 0x1C($17)
/* 2504 00102404 2D804000 */  daddu      $16, $2, $0
/* 2508 00102408 1C00001A */  blez       $16, .L0010247C
/* 250C 0010240C 23A8B002 */   subu      $21, $21, $16
/* 2510 00102410 0C000010 */  b          .L00102444
/* 2514 00102414 00000000 */   nop
.L00102418:
/* 2518 00102418 0000248E */  lw         $4, 0x0($17)
/* 251C 0010241C 2D286002 */  daddu      $5, $19, $0
/* 2520 00102420 180D040C */  jal        memmove
/* 2524 00102424 2D300002 */   daddu     $6, $16, $0
/* 2528 00102428 0800238E */  lw         $3, 0x8($17)
/* 252C 0010242C 0000228E */  lw         $2, 0x0($17)
/* 2530 00102430 23187000 */  subu       $3, $3, $16
/* 2534 00102434 21105000 */  addu       $2, $2, $16
/* 2538 00102438 080023AE */  sw         $3, 0x8($17)
/* 253C 0010243C 000022AE */  sw         $2, 0x0($17)
/* 2540 00102440 23A8B002 */  subu       $21, $21, $16
.L00102444:
/* 2544 00102444 0600A056 */  bnel       $21, $0, .L00102460
/* 2548 00102448 0800C28E */   lw        $2, 0x8($22)
/* 254C 0010244C 0806040C */  jal        fflush
/* 2550 00102450 2D202002 */   daddu     $4, $17, $0
/* 2554 00102454 09004014 */  bnez       $2, .L0010247C
/* 2558 00102458 2DB80000 */   daddu     $23, $0, $0
/* 255C 0010245C 0800C28E */  lw         $2, 0x8($22)
.L00102460:
/* 2560 00102460 21987002 */  addu       $19, $19, $16
/* 2564 00102464 23905002 */  subu       $18, $18, $16
/* 2568 00102468 23105000 */  subu       $2, $2, $16
/* 256C 0010246C ACFF4014 */  bnez       $2, .L00102320
/* 2570 00102470 0800C2AE */   sw        $2, 0x8($22)
.L00102474:
/* 2574 00102474 05000010 */  b          .L0010248C
/* 2578 00102478 2D100000 */   daddu     $2, $0, $0
.L0010247C:
/* 257C 0010247C 0C002396 */  lhu        $3, 0xC($17)
.L00102480:
/* 2580 00102480 FFFF0224 */  addiu      $2, $0, -0x1
/* 2584 00102484 40006334 */  ori        $3, $3, 0x40
/* 2588 00102488 0C0023A6 */  sh         $3, 0xC($17)
.L0010248C:
/* 258C 0010248C 8000BFDF */  ld         $31, 0x80($sp)
/* 2590 00102490 7000B7DF */  ld         $23, 0x70($sp)
/* 2594 00102494 6000B6DF */  ld         $22, 0x60($sp)
/* 2598 00102498 5000B5DF */  ld         $21, 0x50($sp)
/* 259C 0010249C 4000B4DF */  ld         $20, 0x40($sp)
/* 25A0 001024A0 3000B3DF */  ld         $19, 0x30($sp)
/* 25A4 001024A4 2000B2DF */  ld         $18, 0x20($sp)
/* 25A8 001024A8 1000B1DF */  ld         $17, 0x10($sp)
/* 25AC 001024AC 0000B0DF */  ld         $16, 0x0($sp)
/* 25B0 001024B0 0800E003 */  jr         $31
/* 25B4 001024B4 9000BD27 */   addiu     $sp, $sp, 0x90
