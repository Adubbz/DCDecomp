.include "macro.inc"

.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */

glabel sceTtyRead
/* 15A18 00115918 A0FFBD27 */  addiu      $sp, $sp, -0x60
/* 15A1C 0011591C 2D180000 */  daddu      $3, $0, $0
/* 15A20 00115920 4000B4FF */  sd         $20, 0x40($sp)
/* 15A24 00115924 2000B2FF */  sd         $18, 0x20($sp)
/* 15A28 00115928 2DA08000 */  daddu      $20, $4, $0
/* 15A2C 0011592C 5000BFFF */  sd         $31, 0x50($sp)
/* 15A30 00115930 2D90A000 */  daddu      $18, $5, $0
/* 15A34 00115934 3000B3FF */  sd         $19, 0x30($sp)
/* 15A38 00115938 1000B1FF */  sd         $17, 0x10($sp)
/* 15A3C 0011593C 2100401A */  blez       $18, .L001159C4
/* 15A40 00115940 0000B0FF */   sd        $16, 0x0($sp)
/* 15A44 00115944 2A00133C */  lui        $19, %hi(D_002A5510)
/* 15A48 00115948 2A00023C */  lui        $2, (0x2A5528 >> 16)
/* 15A4C 0011594C 00000000 */  nop
.L00115950:
/* 15A50 00115950 01007124 */  addiu      $17, $3, 0x1
/* 15A54 00115954 2855448C */  lw         $4, (0x2A5528 & 0xFFFF)($2)
/* 15A58 00115958 21808302 */  addu       $16, $20, $3
/* 15A5C 0011595C 00000000 */  nop
.L00115960:
/* 15A60 00115960 0400828C */  lw         $2, 0x4($4)
/* 15A64 00115964 00000000 */  nop
/* 15A68 00115968 00000000 */  nop
/* 15A6C 0011596C 00000000 */  nop
/* 15A70 00115970 00000000 */  nop
/* 15A74 00115974 FAFF4010 */  beqz       $2, .L00115960
/* 15A78 00115978 00000000 */   nop
/* 15A7C 0011597C 10556526 */  addiu      $5, $19, %lo(D_002A5510)
/* 15A80 00115980 1800A28C */  lw         $2, 0x18($5)
/* 15A84 00115984 0800438C */  lw         $3, 0x8($2)
/* 15A88 00115988 00006490 */  lbu        $4, 0x0($3)
/* 15A8C 0011598C 000004A2 */  sb         $4, 0x0($16)
/* 15A90 00115990 7C55040C */  jal        QueuePeekReadDone
/* 15A94 00115994 1800A48C */   lw        $4, 0x18($5)
/* 15A98 00115998 00000382 */  lb         $3, 0x0($16)
/* 15A9C 0011599C 0A000224 */  addiu      $2, $0, 0xA
/* 15AA0 001159A0 03006210 */  beq        $3, $2, .L001159B0
/* 15AA4 001159A4 0D000224 */   addiu     $2, $0, 0xD
/* 15AA8 001159A8 03006214 */  bne        $3, $2, .L001159B8
/* 15AAC 001159AC 2D182002 */   daddu     $3, $17, $0
.L001159B0:
/* 15AB0 001159B0 05000010 */  b          .L001159C8
/* 15AB4 001159B4 2D102002 */   daddu     $2, $17, $0
.L001159B8:
/* 15AB8 001159B8 2A107200 */  slt        $2, $3, $18
/* 15ABC 001159BC E4FF4014 */  bnez       $2, .L00115950
/* 15AC0 001159C0 2A00023C */   lui       $2, (0x2A5528 >> 16)
.L001159C4:
/* 15AC4 001159C4 2D106000 */  daddu      $2, $3, $0
.L001159C8:
/* 15AC8 001159C8 5000BFDF */  ld         $31, 0x50($sp)
/* 15ACC 001159CC 4000B4DF */  ld         $20, 0x40($sp)
/* 15AD0 001159D0 3000B3DF */  ld         $19, 0x30($sp)
/* 15AD4 001159D4 2000B2DF */  ld         $18, 0x20($sp)
/* 15AD8 001159D8 1000B1DF */  ld         $17, 0x10($sp)
/* 15ADC 001159DC 0000B0DF */  ld         $16, 0x0($sp)
/* 15AE0 001159E0 0800E003 */  jr         $31
/* 15AE4 001159E4 6000BD27 */   addiu     $sp, $sp, 0x60
