.include "macro.inc"

.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */

glabel __swsetup
/* 9588 00109488 E0FFBD27 */  addiu      $sp, $sp, -0x20
/* 958C 0010948C 0000B0FF */  sd         $16, 0x0($sp)
/* 9590 00109490 1000BFFF */  sd         $31, 0x10($sp)
/* 9594 00109494 2D808000 */  daddu      $16, $4, $0
/* 9598 00109498 5400038E */  lw         $3, 0x54($16)
/* 959C 0010949C 06006054 */  bnel       $3, $0, .L001094B8
/* 95A0 001094A0 3800628C */   lw        $2, 0x38($3)
/* 95A4 001094A4 2500023C */  lui        $2, (0x250000 >> 16)
/* 95A8 001094A8 ECFD438C */  lw         $3, -0x214($2)
/* 95AC 001094AC 540003AE */  sw         $3, 0x54($16)
/* 95B0 001094B0 3800628C */  lw         $2, 0x38($3)
/* 95B4 001094B4 00000000 */  nop
.L001094B8:
/* 95B8 001094B8 04004054 */  bnel       $2, $0, .L001094CC
/* 95BC 001094BC 0C000396 */   lhu       $3, 0xC($16)
/* 95C0 001094C0 BC06040C */  jal        __sinit
/* 95C4 001094C4 2D206000 */   daddu     $4, $3, $0
/* 95C8 001094C8 0C000396 */  lhu        $3, 0xC($16)
.L001094CC:
/* 95CC 001094CC 08006230 */  andi       $2, $3, 0x8
/* 95D0 001094D0 1A004054 */  bnel       $2, $0, .L0010953C
/* 95D4 001094D4 1000048E */   lw        $4, 0x10($16)
/* 95D8 001094D8 10006230 */  andi       $2, $3, 0x10
/* 95DC 001094DC 03004014 */  bnez       $2, .L001094EC
/* 95E0 001094E0 04006230 */   andi      $2, $3, 0x4
/* 95E4 001094E4 27000010 */  b          .L00109584
/* 95E8 001094E8 FFFF0224 */   addiu     $2, $0, -0x1
.L001094EC:
/* 95EC 001094EC 11004050 */  beql       $2, $0, .L00109534
/* 95F0 001094F0 1000048E */   lw        $4, 0x10($16)
/* 95F4 001094F4 3000058E */  lw         $5, 0x30($16)
/* 95F8 001094F8 0700A010 */  beqz       $5, .L00109518
/* 95FC 001094FC 40000226 */   addiu     $2, $16, 0x40
/* 9600 00109500 0500A250 */  beql       $5, $2, .L00109518
/* 9604 00109504 300000AE */   sw        $0, 0x30($16)
/* 9608 00109508 FC06040C */  jal        _free_r
/* 960C 0010950C 5400048E */   lw        $4, 0x54($16)
/* 9610 00109510 0C000396 */  lhu        $3, 0xC($16)
/* 9614 00109514 300000AE */  sw         $0, 0x30($16)
.L00109518:
/* 9618 00109518 DBFF0224 */  addiu      $2, $0, -0x25
/* 961C 0010951C 1000048E */  lw         $4, 0x10($16)
/* 9620 00109520 24106200 */  and        $2, $3, $2
/* 9624 00109524 040000AE */  sw         $0, 0x4($16)
/* 9628 00109528 2D184000 */  daddu      $3, $2, $0
/* 962C 0010952C 0C0002A6 */  sh         $2, 0xC($16)
/* 9630 00109530 000004AE */  sw         $4, 0x0($16)
.L00109534:
/* 9634 00109534 08006234 */  ori        $2, $3, 0x8
/* 9638 00109538 0C0002A6 */  sh         $2, 0xC($16)
.L0010953C:
/* 963C 0010953C 04008054 */  bnel       $4, $0, .L00109550
/* 9640 00109540 0C000396 */   lhu       $3, 0xC($16)
/* 9644 00109544 A809040C */  jal        __smakebuf
/* 9648 00109548 2D200002 */   daddu     $4, $16, $0
/* 964C 0010954C 0C000396 */  lhu        $3, 0xC($16)
.L00109550:
/* 9650 00109550 01006230 */  andi       $2, $3, 0x1
/* 9654 00109554 06004010 */  beqz       $2, .L00109570
/* 9658 00109558 02006230 */   andi      $2, $3, 0x2
/* 965C 0010955C 1400028E */  lw         $2, 0x14($16)
/* 9660 00109560 080000AE */  sw         $0, 0x8($16)
/* 9664 00109564 23100200 */  negu       $2, $2
/* 9668 00109568 05000010 */  b          .L00109580
/* 966C 0010956C 180002AE */   sw        $2, 0x18($16)
.L00109570:
/* 9670 00109570 02004014 */  bnez       $2, .L0010957C
/* 9674 00109574 2D180000 */   daddu     $3, $0, $0
/* 9678 00109578 1400038E */  lw         $3, 0x14($16)
.L0010957C:
/* 967C 0010957C 080003AE */  sw         $3, 0x8($16)
.L00109580:
/* 9680 00109580 2D100000 */  daddu      $2, $0, $0
.L00109584:
/* 9684 00109584 1000BFDF */  ld         $31, 0x10($sp)
/* 9688 00109588 0000B0DF */  ld         $16, 0x0($sp)
/* 968C 0010958C 0800E003 */  jr         $31
/* 9690 00109590 2000BD27 */   addiu     $sp, $sp, 0x20
/* 9694 00109594 00000000 */  nop
