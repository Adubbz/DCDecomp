.include "macro.inc"

.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */

glabel sceOpen
/* 17F18 00117E18 20FFBD27 */  addiu      $sp, $sp, -0xE0
/* 17F1C 00117E1C 2500023C */  lui        $2, (0x250A08 >> 16)
/* 17F20 00117E20 5000B4FF */  sd         $20, 0x50($sp)
/* 17F24 00117E24 4000B3FF */  sd         $19, 0x40($sp)
/* 17F28 00117E28 2A00143C */  lui        $20, %hi(D_002A7300)
/* 17F2C 00117E2C 3000B2FF */  sd         $18, 0x30($sp)
/* 17F30 00117E30 2D98A000 */  daddu      $19, $5, $0
/* 17F34 00117E34 1000B0FF */  sd         $16, 0x10($sp)
/* 17F38 00117E38 00739226 */  addiu      $18, $20, %lo(D_002A7300)
/* 17F3C 00117E3C 080A438C */  lw         $3, (0x250A08 & 0xFFFF)($2)
/* 17F40 00117E40 2D808000 */  daddu      $16, $4, $0
/* 17F44 00117E44 6000BFFF */  sd         $31, 0x60($sp)
/* 17F48 00117E48 2000B1FF */  sd         $17, 0x20($sp)
/* 17F4C 00117E4C B000A6FF */  sd         $6, 0xB0($sp)
/* 17F50 00117E50 B800A7FF */  sd         $7, 0xB8($sp)
/* 17F54 00117E54 C000A8FF */  sd         $8, 0xC0($sp)
/* 17F58 00117E58 C800A9FF */  sd         $9, 0xC8($sp)
/* 17F5C 00117E5C D000AAFF */  sd         $10, 0xD0($sp)
/* 17F60 00117E60 03006014 */  bnez       $3, .L00117E70
/* 17F64 00117E64 D800ABFF */   sd        $11, 0xD8($sp)
/* 17F68 00117E68 0C5F040C */  jal        sceFsInit
/* 17F6C 00117E6C 00000000 */   nop
.L00117E70:
/* 17F70 00117E70 5E5F040C */  jal        _fs_version
/* 17F74 00117E74 00000000 */   nop
/* 17F78 00117E78 04004010 */  beqz       $2, .L00117E8C
/* 17F7C 00117E7C 2D200000 */   daddu     $4, $0, $0
/* 17F80 00117E80 FEFF023C */  lui        $2, (0xFFFEFFFC >> 16)
/* 17F84 00117E84 4C000010 */  b          .L00117FB8
/* 17F88 00117E88 FCFF4234 */   ori       $2, $2, (0xFFFEFFFC & 0xFFFF)
.L00117E8C:
/* 17F8C 00117E8C 065F040C */  jal        _sceFsDbChk
/* 17F90 00117E90 2D280000 */   daddu     $5, $0, $0
/* 17F94 00117E94 48004014 */  bnez       $2, .L00117FB8
/* 17F98 00117E98 F0FF0224 */   addiu     $2, $0, -0x10
/* 17F9C 00117E9C DC5E040C */  jal        new_iob
/* 17FA0 00117EA0 00000000 */   nop
/* 17FA4 00117EA4 2D884000 */  daddu      $17, $2, $0
/* 17FA8 00117EA8 05002056 */  bnel       $17, $0, .L00117EC0
/* 17FAC 00117EAC 00000392 */   lbu       $3, 0x0($16)
/* 17FB0 00117EB0 085F040C */  jal        _sceFsSigSema
/* 17FB4 00117EB4 00000000 */   nop
/* 17FB8 00117EB8 3F000010 */  b          .L00117FB8
/* 17FBC 00117EBC EDFF0224 */   addiu     $2, $0, -0x13
.L00117EC0:
/* 17FC0 00117EC0 2D400000 */  daddu      $8, $0, $0
/* 17FC4 00117EC4 B000A68F */  lw         $6, 0xB0($sp)
/* 17FC8 00117EC8 00160300 */  sll        $2, $3, 24
/* 17FCC 00117ECC 0F004010 */  beqz       $2, .L00117F0C
/* 17FD0 00117ED0 080043A2 */   sb        $3, 0x8($18)
/* 17FD4 00117ED4 2B00053C */  lui        $5, %hi(D_002A8110)
/* 17FD8 00117ED8 2A00093C */  lui        $9, %hi(D_002A7F40)
/* 17FDC 00117EDC 01000825 */  addiu      $8, $8, 0x1
.L00117EE0:
/* 17FE0 00117EE0 00040229 */  slti       $2, $8, 0x400
/* 17FE4 00117EE4 0B004010 */  beqz       $2, .L00117F14
/* 17FE8 00117EE8 21100802 */   addu      $2, $16, $8
/* 17FEC 00117EEC 21204802 */  addu       $4, $18, $8
/* 17FF0 00117EF0 00004390 */  lbu        $3, 0x0($2)
/* 17FF4 00117EF4 080083A0 */  sb         $3, 0x8($4)
/* 17FF8 00117EF8 001E0300 */  sll        $3, $3, 24
/* 17FFC 00117EFC F8FF6054 */  bnel       $3, $0, .L00117EE0
/* 18000 00117F00 01000825 */   addiu     $8, $8, 0x1
/* 18004 00117F04 04000010 */  b          .L00117F18
/* 18008 00117F08 00040224 */   addiu     $2, $0, 0x400
.L00117F0C:
/* 1800C 00117F0C 2B00053C */  lui        $5, %hi(D_002A8110)
/* 18010 00117F10 2A00093C */  lui        $9, %hi(D_002A7F40)
.L00117F14:
/* 18014 00117F14 00040224 */  addiu      $2, $0, 0x400
.L00117F18:
/* 18018 00117F18 03000215 */  bne        $8, $2, .L00117F28
/* 1801C 00117F1C FF0F023C */   lui       $2, (0xFFFFFFF >> 16)
/* 18020 00117F20 070440A2 */  sb         $0, 0x407($18)
/* 18024 00117F24 FF030824 */  addiu      $8, $0, 0x3FF
.L00117F28:
/* 18028 00117F28 040046AE */  sw         $6, 0x4($18)
/* 1802C 00117F2C FFFF4234 */  ori        $2, $2, (0xFFFFFFF & 0xFFFF)
/* 18030 00117F30 407F3025 */  addiu      $16, $9, %lo(D_002A7F40)
/* 18034 00117F34 24106202 */  and        $2, $19, $2
/* 18038 00117F38 1081A424 */  addiu      $4, $5, %lo(D_002A8110)
/* 1803C 00117F3C 000042AE */  sw         $2, 0x0($18)
/* 18040 00117F40 00738726 */  addiu      $7, $20, %lo(D_002A7300)
/* 18044 00117F44 09000825 */  addiu      $8, $8, 0x9
/* 18048 00117F48 0000A0AF */  sw         $0, 0x0($sp)
/* 1804C 00117F4C 2D280000 */  daddu      $5, $0, $0
/* 18050 00117F50 2D300000 */  daddu      $6, $0, $0
/* 18054 00117F54 2D480002 */  daddu      $9, $16, $0
/* 18058 00117F58 04000A24 */  addiu      $10, $0, 0x4
/* 1805C 00117F5C 2A5D040C */  jal        sceSifCallRpc
/* 18060 00117F60 2D580000 */   daddu     $11, $0, $0
/* 18064 00117F64 05004104 */  bgez       $2, .L00117F7C
/* 18068 00117F68 0020023C */   lui       $2, (0x20000000 >> 16)
/* 1806C 00117F6C 085F040C */  jal        _sceFsSigSema
/* 18070 00117F70 00000000 */   nop
/* 18074 00117F74 10000010 */  b          .L00117FB8
/* 18078 00117F78 FFFF0224 */   addiu     $2, $0, -0x1
.L00117F7C:
/* 1807C 00117F7C 25100202 */  or         $2, $16, $2
/* 18080 00117F80 085F040C */  jal        _sceFsSigSema
/* 18084 00117F84 0000508C */   lw        $16, (0x20000000 & 0xFFFF)($2)
/* 18088 00117F88 04000306 */  bgezl      $16, .L00117F9C
/* 1808C 00117F8C 0400238E */   lw        $3, 0x4($17)
/* 18090 00117F90 040020AE */  sw         $0, 0x4($17)
/* 18094 00117F94 08000010 */  b          .L00117FB8
/* 18098 00117F98 2D100002 */   daddu     $2, $16, $0
.L00117F9C:
/* 1809C 00117F9C 2B00023C */  lui        $2, %hi(D_002A8010)
/* 180A0 00117FA0 10804224 */  addiu      $2, $2, %lo(D_002A8010)
/* 180A4 00117FA4 000030AE */  sw         $16, 0x0($17)
/* 180A8 00117FA8 25187300 */  or         $3, $3, $19
/* 180AC 00117FAC 23102202 */  subu       $2, $17, $2
/* 180B0 00117FB0 040023AE */  sw         $3, 0x4($17)
/* 180B4 00117FB4 03110200 */  sra        $2, $2, 4
.L00117FB8:
/* 180B8 00117FB8 6000BFDF */  ld         $31, 0x60($sp)
/* 180BC 00117FBC 5000B4DF */  ld         $20, 0x50($sp)
/* 180C0 00117FC0 4000B3DF */  ld         $19, 0x40($sp)
/* 180C4 00117FC4 3000B2DF */  ld         $18, 0x30($sp)
/* 180C8 00117FC8 2000B1DF */  ld         $17, 0x20($sp)
/* 180CC 00117FCC 1000B0DF */  ld         $16, 0x10($sp)
/* 180D0 00117FD0 0800E003 */  jr         $31
/* 180D4 00117FD4 E000BD27 */   addiu     $sp, $sp, 0xE0
