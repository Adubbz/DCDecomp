.include "macro.inc"

.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */

glabel _ratio
/* 4628 00104528 B0FFBD27 */  addiu      $sp, $sp, -0x50
/* 462C 0010452C 2000B1FF */  sd         $17, 0x20($sp)
/* 4630 00104530 1000B0FF */  sd         $16, 0x10($sp)
/* 4634 00104534 2D88A000 */  daddu      $17, $5, $0
/* 4638 00104538 2D808000 */  daddu      $16, $4, $0
/* 463C 0010453C 3000B2FF */  sd         $18, 0x30($sp)
/* 4640 00104540 4000BFFF */  sd         $31, 0x40($sp)
/* 4644 00104544 8A10040C */  jal        _b2d
/* 4648 00104548 2D28A003 */   daddu     $5, $sp, $0
/* 464C 0010454C 2D904000 */  daddu      $18, $2, $0
/* 4650 00104550 2D202002 */  daddu      $4, $17, $0
/* 4654 00104554 8A10040C */  jal        _b2d
/* 4658 00104558 0400A537 */   ori       $5, $sp, 0x4
/* 465C 0010455C 1000038E */  lw         $3, 0x10($16)
/* 4660 00104560 2D304000 */  daddu      $6, $2, $0
/* 4664 00104564 1000248E */  lw         $4, 0x10($17)
/* 4668 00104568 0000A28F */  lw         $2, 0x0($sp)
/* 466C 0010456C 0400A58F */  lw         $5, 0x4($sp)
/* 4670 00104570 23186400 */  subu       $3, $3, $4
/* 4674 00104574 40190300 */  sll        $3, $3, 5
/* 4678 00104578 23104500 */  subu       $2, $2, $5
/* 467C 0010457C 21104300 */  addu       $2, $2, $3
/* 4680 00104580 09004018 */  blez       $2, .L001045A8
/* 4684 00104584 00150200 */   sll       $2, $2, 20
/* 4688 00104588 3F181200 */  dsra32     $3, $18, 0
/* 468C 0010458C 21186200 */  addu       $3, $3, $2
/* 4690 00104590 FFFF043C */  lui        $4, (0xFFFF0000 >> 16)
/* 4694 00104594 3E200400 */  dsrl32     $4, $4, 0
/* 4698 00104598 3C180300 */  dsll32     $3, $3, 0
/* 469C 0010459C 24904402 */  and        $18, $18, $4
/* 46A0 001045A0 08000010 */  b          .L001045C4
/* 46A4 001045A4 25904302 */   or        $18, $18, $3
.L001045A8:
/* 46A8 001045A8 3F180600 */  dsra32     $3, $6, 0
/* 46AC 001045AC 23186200 */  subu       $3, $3, $2
/* 46B0 001045B0 FFFF043C */  lui        $4, (0xFFFF0000 >> 16)
/* 46B4 001045B4 3E200400 */  dsrl32     $4, $4, 0
/* 46B8 001045B8 3C180300 */  dsll32     $3, $3, 0
/* 46BC 001045BC 2430C400 */  and        $6, $6, $4
/* 46C0 001045C0 2530C300 */  or         $6, $6, $3
.L001045C4:
/* 46C4 001045C4 2D204002 */  daddu      $4, $18, $0
/* 46C8 001045C8 4840040C */  jal        dpdiv
/* 46CC 001045CC 2D28C000 */   daddu     $5, $6, $0
/* 46D0 001045D0 4000BFDF */  ld         $31, 0x40($sp)
/* 46D4 001045D4 3000B2DF */  ld         $18, 0x30($sp)
/* 46D8 001045D8 2000B1DF */  ld         $17, 0x20($sp)
/* 46DC 001045DC 1000B0DF */  ld         $16, 0x10($sp)
/* 46E0 001045E0 0800E003 */  jr         $31
/* 46E4 001045E4 5000BD27 */   addiu     $sp, $sp, 0x50
