.include "macro.inc"

.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */

glabel sceRead
/* 183B8 001182B8 60FFBD27 */  addiu      $sp, $sp, -0xA0
/* 183BC 001182BC 6000B5FF */  sd         $21, 0x60($sp)
/* 183C0 001182C0 5000B4FF */  sd         $20, 0x50($sp)
/* 183C4 001182C4 2DA8C000 */  daddu      $21, $6, $0
/* 183C8 001182C8 8000B7FF */  sd         $23, 0x80($sp)
/* 183CC 001182CC 2DA0A000 */  daddu      $20, $5, $0
/* 183D0 001182D0 7000B6FF */  sd         $22, 0x70($sp)
/* 183D4 001182D4 2DB80000 */  daddu      $23, $0, $0
/* 183D8 001182D8 3000B2FF */  sd         $18, 0x30($sp)
/* 183DC 001182DC 2A00163C */  lui        $22, (0x2A7300 >> 16)
/* 183E0 001182E0 1000B0FF */  sd         $16, 0x10($sp)
/* 183E4 001182E4 0073D226 */  addiu      $18, $22, %lo(D_002A7300)
/* 183E8 001182E8 9000BFFF */  sd         $31, 0x90($sp)
/* 183EC 001182EC 4000B3FF */  sd         $19, 0x40($sp)
/* 183F0 001182F0 F85E040C */  jal        get_iob
/* 183F4 001182F4 2000B1FF */   sd        $17, 0x20($sp)
/* 183F8 001182F8 2D804000 */  daddu      $16, $2, $0
/* 183FC 001182FC 2500023C */  lui        $2, (0x250A08 >> 16)
/* 18400 00118300 080A438C */  lw         $3, (0x250A08 & 0xFFFF)($2)
/* 18404 00118304 03006054 */  bnel       $3, $0, .L00118314
/* 18408 00118308 0400058E */   lw        $5, 0x4($16)
/* 1840C 0011830C 49000010 */  b          .L00118434
/* 18410 00118310 FFFF0224 */   addiu     $2, $0, -0x1
.L00118314:
/* 18414 00118314 065F040C */  jal        _sceFsDbChk
/* 18418 00118318 02000424 */   addiu     $4, $0, 0x2
/* 1841C 0011831C 45004014 */  bnez       $2, .L00118434
/* 18420 00118320 F0FF0224 */   addiu     $2, $0, -0x10
/* 18424 00118324 04000012 */  beqz       $16, .L00118338
/* 18428 00118328 00000000 */   nop
/* 1842C 0011832C 0400028E */  lw         $2, 0x4($16)
/* 18430 00118330 05004014 */  bnez       $2, .L00118348
/* 18434 00118334 2B00043C */   lui       $4, %hi(D_002A8140)
.L00118338:
/* 18438 00118338 085F040C */  jal        _sceFsSigSema
/* 1843C 0011833C 00000000 */   nop
/* 18440 00118340 3C000010 */  b          .L00118434
/* 18444 00118344 F7FF0224 */   addiu     $2, $0, -0x9
.L00118348:
/* 18448 00118348 FFFF0324 */  addiu      $3, $0, -0x1
/* 1844C 0011834C 40819324 */  addiu      $19, $4, %lo(D_002A8140)
/* 18450 00118350 2A00023C */  lui        $2, %hi(D_002A7F80)
/* 18454 00118354 040063AE */  sw         $3, 0x4($19)
/* 18458 00118358 807F5124 */  addiu      $17, $2, %lo(D_002A7F80)
/* 1845C 0011835C 408191AC */  sw         $17, -0x7EC0($4)
/* 18460 00118360 0000028E */  lw         $2, 0x0($16)
/* 18464 00118364 040054AE */  sw         $20, 0x4($18)
/* 18468 00118368 0073C2AE */  sw         $2, (0x2A7300 & 0xFFFF)($22)
/* 1846C 0011836C 080055AE */  sw         $21, 0x8($18)
/* 18470 00118370 0C0051AE */  sw         $17, 0xC($18)
/* 18474 00118374 0400038E */  lw         $3, 0x4($16)
/* 18478 00118378 00806230 */  andi       $2, $3, 0x8000
/* 1847C 0011837C 06004010 */  beqz       $2, .L00118398
/* 18480 00118380 0020163C */   lui       $22, (0x20000000 >> 16)
/* 18484 00118384 2500033C */  lui        $3, (0x250A0C >> 16)
/* 18488 00118388 01001724 */  addiu      $23, $0, 0x1
/* 1848C 0011838C 0C0A628C */  lw         $2, (0x250A0C & 0xFFFF)($3)
/* 18490 00118390 040062AE */  sw         $2, 0x4($19)
/* 18494 00118394 0400038E */  lw         $3, 0x4($16)
.L00118398:
/* 18498 00118398 24107600 */  and        $2, $3, $22
/* 1849C 0011839C 05004014 */  bnez       $2, .L001183B4
/* 184A0 001183A0 2D202002 */   daddu     $4, $17, $0
/* 184A4 001183A4 2D208002 */  daddu      $4, $20, $0
/* 184A8 001183A8 E65A040C */  jal        sceSifWriteBackDCache
/* 184AC 001183AC 2D28A002 */   daddu     $5, $21, $0
/* 184B0 001183B0 2D202002 */  daddu      $4, $17, $0
.L001183B4:
/* 184B4 001183B4 E65A040C */  jal        sceSifWriteBackDCache
/* 184B8 001183B8 90000524 */   addiu     $5, $0, 0x90
/* 184BC 001183BC 2D204002 */  daddu      $4, $18, $0
/* 184C0 001183C0 E65A040C */  jal        sceSifWriteBackDCache
/* 184C4 001183C4 10000524 */   addiu     $5, $0, 0x10
/* 184C8 001183C8 2A00023C */  lui        $2, %hi(D_002A7F40)
/* 184CC 001183CC 2B00043C */  lui        $4, %hi(D_002A8110)
/* 184D0 001183D0 407F5124 */  addiu      $17, $2, %lo(D_002A7F40)
/* 184D4 001183D4 12000B3C */  lui        $11, %hi(fs_read_intr)
/* 184D8 001183D8 0000B3AF */  sw         $19, 0x0($sp)
/* 184DC 001183DC 10818424 */  addiu      $4, $4, %lo(D_002A8110)
/* 184E0 001183E0 2D30E002 */  daddu      $6, $23, $0
/* 184E4 001183E4 2D384002 */  daddu      $7, $18, $0
/* 184E8 001183E8 20826B25 */  addiu      $11, $11, %lo(fs_read_intr)
/* 184EC 001183EC 02000524 */  addiu      $5, $0, 0x2
/* 184F0 001183F0 10000824 */  addiu      $8, $0, 0x10
/* 184F4 001183F4 2D482002 */  daddu      $9, $17, $0
/* 184F8 001183F8 2A5D040C */  jal        sceSifCallRpc
/* 184FC 001183FC 04000A24 */   addiu     $10, $0, 0x4
/* 18500 00118400 05004304 */  bgezl      $2, .L00118418
/* 18504 00118404 0400028E */   lw        $2, 0x4($16)
/* 18508 00118408 085F040C */  jal        _sceFsSigSema
/* 1850C 0011840C 00000000 */   nop
/* 18510 00118410 08000010 */  b          .L00118434
/* 18514 00118414 FFFF0224 */   addiu     $2, $0, -0x1
.L00118418:
/* 18518 00118418 00804230 */  andi       $2, $2, 0x8000
/* 1851C 0011841C 05004014 */  bnez       $2, .L00118434
/* 18520 00118420 2D100000 */   daddu     $2, $0, $0
/* 18524 00118424 2510D102 */  or         $2, $22, $17
/* 18528 00118428 085F040C */  jal        _sceFsSigSema
/* 1852C 0011842C 0000508C */   lw        $16, 0x0($2)
/* 18530 00118430 2D100002 */  daddu      $2, $16, $0
.L00118434:
/* 18534 00118434 9000BFDF */  ld         $31, 0x90($sp)
/* 18538 00118438 8000B7DF */  ld         $23, 0x80($sp)
/* 1853C 0011843C 7000B6DF */  ld         $22, 0x70($sp)
/* 18540 00118440 6000B5DF */  ld         $21, 0x60($sp)
/* 18544 00118444 5000B4DF */  ld         $20, 0x50($sp)
/* 18548 00118448 4000B3DF */  ld         $19, 0x40($sp)
/* 1854C 0011844C 3000B2DF */  ld         $18, 0x30($sp)
/* 18550 00118450 2000B1DF */  ld         $17, 0x20($sp)
/* 18554 00118454 1000B0DF */  ld         $16, 0x10($sp)
/* 18558 00118458 0800E003 */  jr         $31
/* 1855C 0011845C A000BD27 */   addiu     $sp, $sp, 0xA0
