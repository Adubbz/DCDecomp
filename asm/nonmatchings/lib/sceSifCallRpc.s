.include "macro.inc"

.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */

glabel sceSifCallRpc
/* 175A8 001174A8 40FFBD27 */  addiu      $sp, $sp, -0xC0
/* 175AC 001174AC 3000B1FF */  sd         $17, 0x30($sp)
/* 175B0 001174B0 2D888000 */  daddu      $17, $4, $0
/* 175B4 001174B4 A000BEFF */  sd         $fp, 0xA0($sp)
/* 175B8 001174B8 9000B7FF */  sd         $23, 0x90($sp)
/* 175BC 001174BC 2A00043C */  lui        $4, %hi(D_002A72C0)
/* 175C0 001174C0 8000B6FF */  sd         $22, 0x80($sp)
/* 175C4 001174C4 2DF0C000 */  daddu      $fp, $6, $0
/* 175C8 001174C8 7000B5FF */  sd         $21, 0x70($sp)
/* 175CC 001174CC 2DB0A000 */  daddu      $22, $5, $0
/* 175D0 001174D0 6000B4FF */  sd         $20, 0x60($sp)
/* 175D4 001174D4 2DA8E000 */  daddu      $21, $7, $0
/* 175D8 001174D8 5000B3FF */  sd         $19, 0x50($sp)
/* 175DC 001174DC 2DA02001 */  daddu      $20, $9, $0
/* 175E0 001174E0 4000B2FF */  sd         $18, 0x40($sp)
/* 175E4 001174E4 2D984001 */  daddu      $19, $10, $0
/* 175E8 001174E8 2000B0FF */  sd         $16, 0x20($sp)
/* 175EC 001174EC 2D900001 */  daddu      $18, $8, $0
/* 175F0 001174F0 B000BFFF */  sd         $31, 0xB0($sp)
/* 175F4 001174F4 2DB86001 */  daddu      $23, $11, $0
/* 175F8 001174F8 8C5B040C */  jal        _sceRpcGetPacket
/* 175FC 001174FC C0728424 */   addiu     $4, $4, %lo(D_002A72C0)
/* 17600 00117500 2D804000 */  daddu      $16, $2, $0
/* 17604 00117504 57000012 */  beqz       $16, .L00117664
/* 17608 00117508 FFFF0224 */   addiu     $2, $0, -0x1
/* 1760C 0011750C C000A28F */  lw         $2, 0xC0($sp)
/* 17610 00117510 0200C433 */  andi       $4, $fp, 0x2
/* 17614 00117514 1800038E */  lw         $3, 0x18($16)
/* 17618 00117518 200022AE */  sw         $2, 0x20($17)
/* 1761C 0011751C 000030AE */  sw         $16, 0x0($17)
/* 17620 00117520 040023AE */  sw         $3, 0x4($17)
/* 17624 00117524 1C0037AE */  sw         $23, 0x1C($17)
/* 17628 00117528 200016AE */  sw         $22, 0x20($16)
/* 1762C 0011752C 240012AE */  sw         $18, 0x24($16)
/* 17630 00117530 280014AE */  sw         $20, 0x28($16)
/* 17634 00117534 2C0013AE */  sw         $19, 0x2C($16)
/* 17638 00117538 140010AE */  sw         $16, 0x14($16)
/* 1763C 0011753C 2400228E */  lw         $2, 0x24($17)
/* 17640 00117540 1C0011AE */  sw         $17, 0x1C($16)
/* 17644 00117544 11008014 */  bnez       $4, .L0011758C
/* 17648 00117548 340002AE */   sw        $2, 0x34($16)
/* 1764C 0011754C 0700B416 */  bne        $21, $20, .L0011756C
/* 17650 00117550 2A105302 */   slt       $2, $18, $19
/* 17654 00117554 2D286002 */  daddu      $5, $19, $0
/* 17658 00117558 2D20A002 */  daddu      $4, $21, $0
/* 1765C 0011755C E65A040C */  jal        sceSifWriteBackDCache
/* 17660 00117560 0A284202 */   movz      $5, $18, $2
/* 17664 00117564 0A000010 */  b          .L00117590
/* 17668 00117568 0100C233 */   andi      $2, $fp, 0x1
.L0011756C:
/* 1766C 0011756C 0300401A */  blez       $18, .L0011757C
/* 17670 00117570 2D20A002 */   daddu     $4, $21, $0
/* 17674 00117574 E65A040C */  jal        sceSifWriteBackDCache
/* 17678 00117578 2D284002 */   daddu     $5, $18, $0
.L0011757C:
/* 1767C 0011757C 0300601A */  blez       $19, .L0011758C
/* 17680 00117580 2D208002 */   daddu     $4, $20, $0
/* 17684 00117584 E65A040C */  jal        sceSifWriteBackDCache
/* 17688 00117588 2D286002 */   daddu     $5, $19, $0
.L0011758C:
/* 1768C 0011758C 0100C233 */  andi       $2, $fp, 0x1
.L00117590:
/* 17690 00117590 14004050 */  beql       $2, $0, .L001175E4
/* 17694 00117594 01001324 */   addiu     $19, $0, 0x1
/* 17698 00117598 0300E016 */  bnez       $23, .L001175A8
/* 1769C 0011759C 01000224 */   addiu     $2, $0, 0x1
/* 176A0 001175A0 02000010 */  b          .L001175AC
/* 176A4 001175A4 300000AE */   sw        $0, 0x30($16)
.L001175A8:
/* 176A8 001175A8 300002AE */  sw         $2, 0x30($16)
.L001175AC:
/* 176AC 001175AC FFFF0224 */  addiu      $2, $0, -0x1
/* 176B0 001175B0 0080043C */  lui        $4, (0x8000000A >> 16)
/* 176B4 001175B4 1400288E */  lw         $8, 0x14($17)
/* 176B8 001175B8 2D38A002 */  daddu      $7, $21, $0
/* 176BC 001175BC 080022AE */  sw         $2, 0x8($17)
/* 176C0 001175C0 2D484002 */  daddu      $9, $18, $0
/* 176C4 001175C4 0A008434 */  ori        $4, $4, (0x8000000A & 0xFFFF)
/* 176C8 001175C8 2D280002 */  daddu      $5, $16, $0
/* 176CC 001175CC 7E5A040C */  jal        sceSifSendCmd
/* 176D0 001175D0 40000624 */   addiu     $6, $0, 0x40
/* 176D4 001175D4 23004014 */  bnez       $2, .L00117664
/* 176D8 001175D8 2D100000 */   daddu     $2, $0, $0
/* 176DC 001175DC 18000010 */  b          .L00117640
/* 176E0 001175E0 00000000 */   nop
.L001175E4:
/* 176E4 001175E4 0800A0AF */  sw         $0, 0x8($sp)
/* 176E8 001175E8 0400B3AF */  sw         $19, 0x4($sp)
/* 176EC 001175EC C850040C */  jal        CreateSema
/* 176F0 001175F0 2D20A003 */   daddu     $4, $sp, $0
/* 176F4 001175F4 05004104 */  bgez       $2, .L0011760C
/* 176F8 001175F8 080022AE */   sw        $2, 0x8($17)
/* 176FC 001175FC B65B040C */  jal        _sceRpcFreePacket
/* 17700 00117600 2D200002 */   daddu     $4, $16, $0
/* 17704 00117604 17000010 */  b          .L00117664
/* 17708 00117608 FDFF0224 */   addiu     $2, $0, -0x3
.L0011760C:
/* 1770C 0011760C 300013AE */  sw         $19, 0x30($16)
/* 17710 00117610 0080043C */  lui        $4, (0x8000000A >> 16)
/* 17714 00117614 2D38A002 */  daddu      $7, $21, $0
/* 17718 00117618 2D484002 */  daddu      $9, $18, $0
/* 1771C 0011761C 1400288E */  lw         $8, 0x14($17)
/* 17720 00117620 0A008434 */  ori        $4, $4, (0x8000000A & 0xFFFF)
/* 17724 00117624 2D280002 */  daddu      $5, $16, $0
/* 17728 00117628 7E5A040C */  jal        sceSifSendCmd
/* 1772C 0011762C 40000624 */   addiu     $6, $0, 0x40
/* 17730 00117630 07004014 */  bnez       $2, .L00117650
/* 17734 00117634 00000000 */   nop
/* 17738 00117638 CC50040C */  jal        DeleteSema
/* 1773C 0011763C 0800248E */   lw        $4, 0x8($17)
.L00117640:
/* 17740 00117640 B65B040C */  jal        _sceRpcFreePacket
/* 17744 00117644 2D200002 */   daddu     $4, $16, $0
/* 17748 00117648 06000010 */  b          .L00117664
/* 1774C 0011764C FEFF0224 */   addiu     $2, $0, -0x2
.L00117650:
/* 17750 00117650 D850040C */  jal        WaitSema
/* 17754 00117654 0800248E */   lw        $4, 0x8($17)
/* 17758 00117658 CC50040C */  jal        DeleteSema
/* 1775C 0011765C 0800248E */   lw        $4, 0x8($17)
/* 17760 00117660 2D100000 */  daddu      $2, $0, $0
.L00117664:
/* 17764 00117664 B000BFDF */  ld         $31, 0xB0($sp)
/* 17768 00117668 A000BEDF */  ld         $fp, 0xA0($sp)
/* 1776C 0011766C 9000B7DF */  ld         $23, 0x90($sp)
/* 17770 00117670 8000B6DF */  ld         $22, 0x80($sp)
/* 17774 00117674 7000B5DF */  ld         $21, 0x70($sp)
/* 17778 00117678 6000B4DF */  ld         $20, 0x60($sp)
/* 1777C 0011767C 5000B3DF */  ld         $19, 0x50($sp)
/* 17780 00117680 4000B2DF */  ld         $18, 0x40($sp)
/* 17784 00117684 3000B1DF */  ld         $17, 0x30($sp)
/* 17788 00117688 2000B0DF */  ld         $16, 0x20($sp)
/* 1778C 0011768C 0800E003 */  jr         $31
/* 17790 00117690 C000BD27 */   addiu     $sp, $sp, 0xC0
/* 17794 00117694 00000000 */  nop
