.include "macro.inc"

.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */

glabel sceCdGetToc
/* A8D8 0010A7D8 80FFBD27 */  addiu      $sp, $sp, -0x80
/* A8DC 0010A7DC 4000B3FF */  sd         $19, 0x40($sp)
/* A8E0 0010A7E0 2D988000 */  daddu      $19, $4, $0
/* A8E4 0010A7E4 7000BFFF */  sd         $31, 0x70($sp)
/* A8E8 0010A7E8 6000B5FF */  sd         $21, 0x60($sp)
/* A8EC 0010A7EC 08000424 */  addiu      $4, $0, 0x8
/* A8F0 0010A7F0 5000B4FF */  sd         $20, 0x50($sp)
/* A8F4 0010A7F4 3000B2FF */  sd         $18, 0x30($sp)
/* A8F8 0010A7F8 2000B1FF */  sd         $17, 0x20($sp)
/* A8FC 0010A7FC E627040C */  jal        ncmd_prechk
/* A900 0010A800 1000B0FF */   sd        $16, 0x10($sp)
/* A904 0010A804 03004014 */  bnez       $2, .L0010A814
/* A908 0010A808 2A00023C */   lui       $2, %hi(D_002A4100)
/* A90C 0010A80C 8D000010 */  b          .L0010AA44
/* A910 0010A810 2D100000 */   daddu     $2, $0, $0
.L0010A814:
/* A914 0010A814 2A00033C */  lui        $3, (0x2A40D0 >> 16)
/* A918 0010A818 00415224 */  addiu      $18, $2, %lo(D_002A4100)
/* A91C 0010A81C D0407024 */  addiu      $16, $3, %lo(D_002A40D0)
/* A920 0010A820 D04072AC */  sw         $18, (0x2A40D0 & 0xFFFF)($3)
/* A924 0010A824 2D204002 */  daddu      $4, $18, $0
/* A928 0010A828 10080524 */  addiu      $5, $0, 0x810
/* A92C 0010A82C E65A040C */  jal        sceSifWriteBackDCache
/* A930 0010A830 2A00153C */   lui       $21, (0x2A3980 >> 16)
/* A934 0010A834 8039B426 */  addiu      $20, $21, %lo(D_002A3980)
/* A938 0010A838 2D200002 */  daddu      $4, $16, $0
/* A93C 0010A83C E65A040C */  jal        sceSifWriteBackDCache
/* A940 0010A840 0C000524 */   addiu     $5, $0, 0xC
/* A944 0010A844 2500113C */  lui        $17, (0x2502C0 >> 16)
/* A948 0010A848 03000224 */  addiu      $2, $0, 0x3
/* A94C 0010A84C 2A00043C */  lui        $4, %hi(D_002A3C00)
/* A950 0010A850 C00222AE */  sw         $2, (0x2502C0 & 0xFFFF)($17)
/* A954 0010A854 003C8424 */  addiu      $4, $4, %lo(D_002A3C00)
/* A958 0010A858 2D380002 */  daddu      $7, $16, $0
/* A95C 0010A85C 0000A0AF */  sw         $0, 0x0($sp)
/* A960 0010A860 04000524 */  addiu      $5, $0, 0x4
/* A964 0010A864 2D300000 */  daddu      $6, $0, $0
/* A968 0010A868 0C000824 */  addiu      $8, $0, 0xC
/* A96C 0010A86C 2D488002 */  daddu      $9, $20, $0
/* A970 0010A870 08000A24 */  addiu      $10, $0, 0x8
/* A974 0010A874 2A5D040C */  jal        sceSifCallRpc
/* A978 0010A878 2D580000 */   daddu     $11, $0, $0
/* A97C 0010A87C 07004304 */  bgezl      $2, .L0010A89C
/* A980 0010A880 0400828E */   lw        $2, 0x4($20)
/* A984 0010A884 C00220AE */  sw         $0, (0x2502C0 & 0xFFFF)($17)
/* A988 0010A888 2500023C */  lui        $2, (0x250280 >> 16)
/* A98C 0010A88C D050040C */  jal        SignalSema
/* A990 0010A890 8002448C */   lw        $4, (0x250280 & 0xFFFF)($2)
/* A994 0010A894 6B000010 */  b          .L0010AA44
/* A998 0010A898 2D100000 */   daddu     $2, $0, $0
.L0010A89C:
/* A99C 0010A89C C00220AE */  sw         $0, (0x2502C0 & 0xFFFF)($17)
/* A9A0 0010A8A0 30004014 */  bnez       $2, .L0010A964
/* A9A4 0010A8A4 8039B08E */   lw        $16, (0x2A3980 & 0xFFFF)($21)
/* A9A8 0010A8A8 0020033C */  lui        $3, (0x20000000 >> 16)
/* A9AC 0010A8AC 2D286002 */  daddu      $5, $19, $0
/* A9B0 0010A8B0 25204302 */  or         $4, $18, $3
/* A9B4 0010A8B4 25108500 */  or         $2, $4, $5
/* A9B8 0010A8B8 07004230 */  andi       $2, $2, 0x7
/* A9BC 0010A8BC 19004010 */  beqz       $2, .L0010A924
/* A9C0 0010A8C0 00048224 */   addiu     $2, $4, 0x400
/* A9C4 0010A8C4 2500033C */  lui        $3, (0x250280 >> 16)
.L0010A8C8:
/* A9C8 0010A8C8 07008668 */  ldl        $6, 0x7($4)
/* A9CC 0010A8CC 0000866C */  ldr        $6, 0x0($4)
/* A9D0 0010A8D0 0F008768 */  ldl        $7, 0xF($4)
/* A9D4 0010A8D4 0800876C */  ldr        $7, 0x8($4)
/* A9D8 0010A8D8 17008868 */  ldl        $8, 0x17($4)
/* A9DC 0010A8DC 1000886C */  ldr        $8, 0x10($4)
/* A9E0 0010A8E0 1F008968 */  ldl        $9, 0x1F($4)
/* A9E4 0010A8E4 1800896C */  ldr        $9, 0x18($4)
/* A9E8 0010A8E8 0700A6B0 */  sdl        $6, 0x7($5)
/* A9EC 0010A8EC 0000A6B4 */  sdr        $6, 0x0($5)
/* A9F0 0010A8F0 0F00A7B0 */  sdl        $7, 0xF($5)
/* A9F4 0010A8F4 0800A7B4 */  sdr        $7, 0x8($5)
/* A9F8 0010A8F8 1700A8B0 */  sdl        $8, 0x17($5)
/* A9FC 0010A8FC 1000A8B4 */  sdr        $8, 0x10($5)
/* AA00 0010A900 1F00A9B0 */  sdl        $9, 0x1F($5)
/* AA04 0010A904 1800A9B4 */  sdr        $9, 0x18($5)
/* AA08 0010A908 20008424 */  addiu      $4, $4, 0x20
/* AA0C 0010A90C 2000A524 */  addiu      $5, $5, 0x20
/* AA10 0010A910 00000000 */  nop
/* AA14 0010A914 ECFF8214 */  bne        $4, $2, .L0010A8C8
/* AA18 0010A918 00000000 */   nop
/* AA1C 0010A91C 46000010 */  b          .L0010AA38
/* AA20 0010A920 00000000 */   nop
.L0010A924:
/* AA24 0010A924 2500033C */  lui        $3, (0x250280 >> 16)
.L0010A928:
/* AA28 0010A928 000086DC */  ld         $6, 0x0($4)
/* AA2C 0010A92C 080087DC */  ld         $7, 0x8($4)
/* AA30 0010A930 100088DC */  ld         $8, 0x10($4)
/* AA34 0010A934 180089DC */  ld         $9, 0x18($4)
/* AA38 0010A938 0000A6FC */  sd         $6, 0x0($5)
/* AA3C 0010A93C 0800A7FC */  sd         $7, 0x8($5)
/* AA40 0010A940 1000A8FC */  sd         $8, 0x10($5)
/* AA44 0010A944 1800A9FC */  sd         $9, 0x18($5)
/* AA48 0010A948 20008424 */  addiu      $4, $4, 0x20
/* AA4C 0010A94C 2000A524 */  addiu      $5, $5, 0x20
/* AA50 0010A950 00000000 */  nop
/* AA54 0010A954 F4FF8214 */  bne        $4, $2, .L0010A928
/* AA58 0010A958 00000000 */   nop
/* AA5C 0010A95C 36000010 */  b          .L0010AA38
/* AA60 0010A960 00000000 */   nop
.L0010A964:
/* AA64 0010A964 0020033C */  lui        $3, (0x20000000 >> 16)
/* AA68 0010A968 2D286002 */  daddu      $5, $19, $0
/* AA6C 0010A96C 25204302 */  or         $4, $18, $3
/* AA70 0010A970 25108500 */  or         $2, $4, $5
/* AA74 0010A974 07004230 */  andi       $2, $2, 0x7
/* AA78 0010A978 19004010 */  beqz       $2, .L0010A9E0
/* AA7C 0010A97C 00088224 */   addiu     $2, $4, 0x800
/* AA80 0010A980 2500033C */  lui        $3, (0x250280 >> 16)
.L0010A984:
/* AA84 0010A984 07008668 */  ldl        $6, 0x7($4)
/* AA88 0010A988 0000866C */  ldr        $6, 0x0($4)
/* AA8C 0010A98C 0F008768 */  ldl        $7, 0xF($4)
/* AA90 0010A990 0800876C */  ldr        $7, 0x8($4)
/* AA94 0010A994 17008868 */  ldl        $8, 0x17($4)
/* AA98 0010A998 1000886C */  ldr        $8, 0x10($4)
/* AA9C 0010A99C 1F008968 */  ldl        $9, 0x1F($4)
/* AAA0 0010A9A0 1800896C */  ldr        $9, 0x18($4)
/* AAA4 0010A9A4 0700A6B0 */  sdl        $6, 0x7($5)
/* AAA8 0010A9A8 0000A6B4 */  sdr        $6, 0x0($5)
/* AAAC 0010A9AC 0F00A7B0 */  sdl        $7, 0xF($5)
/* AAB0 0010A9B0 0800A7B4 */  sdr        $7, 0x8($5)
/* AAB4 0010A9B4 1700A8B0 */  sdl        $8, 0x17($5)
/* AAB8 0010A9B8 1000A8B4 */  sdr        $8, 0x10($5)
/* AABC 0010A9BC 1F00A9B0 */  sdl        $9, 0x1F($5)
/* AAC0 0010A9C0 1800A9B4 */  sdr        $9, 0x18($5)
/* AAC4 0010A9C4 20008424 */  addiu      $4, $4, 0x20
/* AAC8 0010A9C8 2000A524 */  addiu      $5, $5, 0x20
/* AACC 0010A9CC 00000000 */  nop
/* AAD0 0010A9D0 ECFF8214 */  bne        $4, $2, .L0010A984
/* AAD4 0010A9D4 00000000 */   nop
/* AAD8 0010A9D8 0F000010 */  b          .L0010AA18
/* AADC 0010A9DC 00000000 */   nop
.L0010A9E0:
/* AAE0 0010A9E0 2500033C */  lui        $3, (0x250280 >> 16)
.L0010A9E4:
/* AAE4 0010A9E4 000086DC */  ld         $6, 0x0($4)
/* AAE8 0010A9E8 080087DC */  ld         $7, 0x8($4)
/* AAEC 0010A9EC 100088DC */  ld         $8, 0x10($4)
/* AAF0 0010A9F0 180089DC */  ld         $9, 0x18($4)
/* AAF4 0010A9F4 0000A6FC */  sd         $6, 0x0($5)
/* AAF8 0010A9F8 0800A7FC */  sd         $7, 0x8($5)
/* AAFC 0010A9FC 1000A8FC */  sd         $8, 0x10($5)
/* AB00 0010AA00 1800A9FC */  sd         $9, 0x18($5)
/* AB04 0010AA04 20008424 */  addiu      $4, $4, 0x20
/* AB08 0010AA08 2000A524 */  addiu      $5, $5, 0x20
/* AB0C 0010AA0C 00000000 */  nop
/* AB10 0010AA10 F4FF8214 */  bne        $4, $2, .L0010A9E4
/* AB14 0010AA14 00000000 */   nop
.L0010AA18:
/* AB18 0010AA18 07008268 */  ldl        $2, 0x7($4)
/* AB1C 0010AA1C 0000826C */  ldr        $2, 0x0($4)
/* AB20 0010AA20 0F008668 */  ldl        $6, 0xF($4)
/* AB24 0010AA24 0800866C */  ldr        $6, 0x8($4)
/* AB28 0010AA28 0700A2B0 */  sdl        $2, 0x7($5)
/* AB2C 0010AA2C 0000A2B4 */  sdr        $2, 0x0($5)
/* AB30 0010AA30 0F00A6B0 */  sdl        $6, 0xF($5)
/* AB34 0010AA34 0800A6B4 */  sdr        $6, 0x8($5)
.L0010AA38:
/* AB38 0010AA38 D050040C */  jal        SignalSema
/* AB3C 0010AA3C 8002648C */   lw        $4, (0x250280 & 0xFFFF)($3)
/* AB40 0010AA40 2D100002 */  daddu      $2, $16, $0
.L0010AA44:
/* AB44 0010AA44 7000BFDF */  ld         $31, 0x70($sp)
/* AB48 0010AA48 6000B5DF */  ld         $21, 0x60($sp)
/* AB4C 0010AA4C 5000B4DF */  ld         $20, 0x50($sp)
/* AB50 0010AA50 4000B3DF */  ld         $19, 0x40($sp)
/* AB54 0010AA54 3000B2DF */  ld         $18, 0x30($sp)
/* AB58 0010AA58 2000B1DF */  ld         $17, 0x20($sp)
/* AB5C 0010AA5C 1000B0DF */  ld         $16, 0x10($sp)
/* AB60 0010AA60 0800E003 */  jr         $31
/* AB64 0010AA64 8000BD27 */   addiu     $sp, $sp, 0x80
